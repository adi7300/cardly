{"version":3,"sources":["services/httpService.js","services/storageSession.js","services/userService.js","cmps/Header.jsx","store/actions/userActions.js","pages/Login.jsx","services/misc/utilService.js","services/boardService.js","services/misc/socketService.js","store/actions/boardActions.js","cmps/BoardPreview.jsx","cmps/AddBoard.jsx","pages/CardlyApp.jsx","cmps/cardDetailsCmps/CardDetailsButton.jsx","services/eventBusService.js","cmps/cardDetailsCmps/MembersList.jsx","cmps/cardDetailsCmps/cardDetailsPopUps/MembersPopup.jsx","cmps/cardDetailsCmps/cardDetailsPopUps/LabelsPopup.jsx","cmps/cardDetailsCmps/cardDetailsPopUps/CheckListPopup.jsx","cmps/cardDetailsCmps/DateAndTimePickers.jsx","cmps/cardDetailsCmps/cardDetailsPopUps/DueDatePopup.jsx","services/cloudinaryService.js","store/actions/cardActions.js","cmps/cardDetailsCmps/cardDetailsPopUps/AttachmentPopup.jsx","cmps/cardDetailsCmps/cardDetailsPopUps/CoverPopup.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/CardSideBar.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/CardDescription.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/CardActivity.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/CardLabels.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/TodoPreview.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/LinearProgressWithLabel.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/ChecklistPreview.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/CardChecklist.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/MembersAvatar.jsx","cmps/cardDetailsCmps/cardDetailsBodyCmps/CardImg.jsx","cmps/CardDetails.jsx","cmps/EditCard.jsx","cmps/CardPreview.jsx","cmps/CardList.jsx","cmps/EditStack.jsx","cmps/AddCard.jsx","cmps/StackMenu.jsx","cmps/StackPreview.jsx","store/actions/stackActions.js","cmps/StackList.jsx","cmps/AddStack.jsx","cmps/StatusBar.jsx","pages/Board.jsx","pages/SignUp.jsx","routes.js","pages/About.jsx","pages/Home.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","store/reducers/boardReducer.js","store/reducers/userReducer.js","store/store.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","window","location","assign","sesStorage","saveUser","key","value","sessionStorage","setItem","JSON","stringify","getUser","getItem","parse","removeUSer","removeItem","clear","baseUrl","STORAGE_KEY","userService","getLoggedinUser","login","credentials","post","then","user","_handleLogin","signup","logout","getUsers","_Header","state","loggedInUser","this","props","initials","fullname","substring","charAt","indexOf","className","to","hidden","type","searchClass","onClick","onOpenSearch","Component","mapDispatchToProps","dispatch","Header","connect","userModule","_Login","loggedinUser","loginCred","username","password","signupCred","isSignUp","msg","loginHandleChange","ev","target","name","setState","prevState","doLogin","preventDefault","userCreds","history","push","catch","err","Container","component","maxWidth","CssBaseline","style","marginTop","display","flexDirection","alignItems","Avatar","margin","backgroundColor","Typography","variant","onSubmit","width","noValidate","TextField","required","fullWidth","id","label","autoComplete","autoFocus","onChange","Button","color","Grid","container","item","Link","href","Box","mt","Login","utilService","delay","ms","Promise","resolve","setTimeout","getRandomInt","min","max","Math","ceil","floor","random","makeId","length","txt","possible","i","formatTime","card","dueDate","timeDate","split","month","day","calcDoneTodos","checklists","reduce","acc","checklist","todos","forEach","todo","isDone","done","boardService","query","get","getBoardById","boardId","saveNewStack","stack","selectedBoard","selectedBoardCopy","stacks","put","_id","removeStack","stackId","filter","saveStack","newStacks","map","currStack","addCard","cardToAdd","stackCopy","desc","comments","members","labels","createdAt","Date","now","coverColor","byMember","imgUrl","cards","removeCard","cardId","newCards","saveCard","cardCopy","updateDragCard","result","stacksCopy","selectedStack","find","destination","droppableId","cardsCopy","cardRemoved","splice","source","index","stacksToUpdate","updateDragCardToOtherList","sourceStack","cardsSourceCopy","destinationStack","cardsDestinationCopy","addBoard","board","removeBoard","delete","moveStack","stackRemoved","socketService","socket","setup","io","on","eventName","cb","off","emit","terminate","createSocketService","loadBoards","boards","setSelectedBoard","updateBoard","BoardPreview","bgc","onRemove","startsWith","backgroundImage","title","_AddBoard","activities","createdBy","mode","handleInput","onCloseAddBoardSection","colors","imgsUrl","onSelectNewBoard","img","alt","src","boardAdded","AddBoard","boardModule","_CardlyApp","isAddBoardShow","onShowAddBoardSection","CardlyApp","CardDetailsButton","text","onButtonClick","icon","eventBus","listener","callListener","detail","addEventListener","removeEventListener","dispatchEvent","CustomEvent","MembersList","users","classes","makeStyles","theme","root","marginLeft","spacing","small","height","onMemberAdd","React","MembersPopup","togglePopUp","boardUsers","placeholder","LabelsPopup","onLabelColorSelect","CheckListPopup","onAdd","onCheckListSelect","onCloseCheckListPopUp","defaultValue","useStyles","flexWrap","textField","marginRight","DateAndTimePickers","onSetDate","InputLabelProps","shrink","DueDatePopup","onSaveDueDate","onSetDueDate","onRemoveDueDate","UPLOAD_URL","formData","FormData","append","files","fetch","body","json","cloudinaryService","uploadImg","_AttachmentPopup","imageUpload","upload","secure_url","htmlFor","CircularProgress","AttachmentPopup","CoverPopup","onCoverColorSelect","onCloseCoverPopUp","CardSideBar","memberPopUp","labelPopUp","checklistPopUp","dueDatePopUp","attachmentPopUp","coverPopUp","onMemberClick","e","showModlaMember","callBack","popupToOpen","closeListener","CardDescription","saveDesc","onSaveCard","rows","cols","CardActivity","comment","isActivitySelected","handleChange","onEditActivity","convertToDate","timestamp","dateCopy","toLocaleString","year","onCommentSave","onCommentAdd","date","size","CardLabels","idx","background","TodoPreview","onRemoveTodo","handleCheckboxTodo","checked","LinearProgressWithLabel","minWidth","round","mr","LinearProgress","ChecklistPreview","isAddItemShow","calcTodosForPrograss","precent","unsubscribeFromEventBus","addTodo","class","toggleAddItem","CardChecklist","newTodo","closeAddTodoSection","currChecklist","updateChecklist","todoId","copyChecklist","todoToUpdate","checklistToUpdate","todoList","large","MembersAvatar","CardImg","onRemoveImage","_CardDetails","loggedUser","memberIndx","findIndex","member","unshift","setLabelOnCard","colorIndx","labelColor","setCardColor","addChecklist","checklistName","checkListItem","checklistsToAdd","copyChecklists","filteredTodos","filteredChecklists","onClosePopUps","deleteChecklist","checklistId","currChecklistIdx","cl","addComment","copyCard","onCloseModal","cardMembers","loadUsers","CardDetails","EditCard","onSave","stopPropagation","saveEditedCard","action","onBlur","_CardPreview","isCardDetailsSelected","isEditCardModalShow","onShowCardDetails","disableStackDrag","closeModal","allowStackDrag","onRemoveCard","onEditCard","onSaveEditedCard","todosSummary","displayedDate","draggableId","provided","draggableProps","dragHandleProps","ref","innerRef","CardPreview","CardList","droppableProps","EditStack","onSaveStack","copyStack","AddCard","addNewCard","closeAddSection","StackMenu","onCloseMenuModal","onRemoveStack","_StackPreview","isEditShow","isAddShow","dragEnable","isOpenStackMenu","onEdit","onAddCard","onCloseAddSection","onAddNewCard","cardToadd","onDragDis","onToogleStackMenu","isDragDisabled","StackPreview","_StackList","dragEnd","onDragEnd","direction","StackList","AddStack","addNewStack","_StatusBar","onMenuSelect","StatusBar","_Board","isAddStack","handleUpdateBoard","onAddSection","onAddNewStack","addStack","loadBoard","match","params","Board","_SignUp","firstname","lastname","isGuest","paper","avatar","palette","secondary","main","form","submit","xs","sm","justify","SignUp","routes","path","_App","route","exact","App","Boolean","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","localLoggedinUser","rootReducer","combineReducers","userId","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.0f0c239d.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","export const sesStorage = {\r\n    saveUser, getUser, removeUSer, clear\r\n}\r\n\r\nfunction saveUser(key, value) {\r\n    // Save data to sessionStorage\r\n    sessionStorage.setItem(key, JSON.stringify(value));\r\n\r\n}\r\n\r\nfunction getUser(key) {\r\n    // Get saved data from sessionStorage    \r\n    var value = sessionStorage.getItem(key);\r\n    if (!value) return null\r\n    else return JSON.parse(value)\r\n}\r\n\r\nfunction removeUSer(key) {\r\n    // Remove saved data from sessionStorage\r\n    sessionStorage.removeItem(key);\r\n}\r\n\r\nfunction clear() {\r\n    sessionStorage.clear();\r\n}\r\n\r\n","// import utilService from './utilService.js'\r\nimport { httpService } from './httpService'\r\nimport { sesStorage } from './storageSession.js'\r\nimport Axios from 'axios'\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\n//For Heroku use\r\nconst baseUrl = (process.env.NODE_ENV !== 'development')\r\n    ? '/api/auth'\r\n    : '//localhost:3030/api/auth';\r\n// const baseUrl = 'http://localhost:3030/api/auth';\r\n\r\n// var gUser = null;\r\nconst STORAGE_KEY = 'loggedinUser'\r\n\r\nexport const userService = {\r\n    getLoggedinUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    getUsers\r\n}\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\n// credentials strucutre: {username: '', password: ''}\r\nfunction login(credentials) {\r\n    console.log(credentials)\r\n    return axios.post(`${baseUrl}/login`, credentials)\r\n        .then(res => res.data)\r\n        .then(user => {\r\n            console.log(user)\r\n            console.log('Login success');\r\n            return _handleLogin(user);\r\n        })\r\n}\r\n// credentials strucutre: {username: '', password: '', fullname: ''}\r\nfunction signup(credentials) {\r\n    return axios.post(`${baseUrl}/signup`, credentials)\r\n        .then(res => res.data)\r\n        .then(user => {\r\n            console.log('Signup success');\r\n            return _handleLogin(user);\r\n        })\r\n}\r\nfunction logout() {\r\n    return axios.post(`${baseUrl}/logout`)\r\n        .then(res => res.data)\r\n        .then(() => {\r\n            console.log('Logout success');\r\n            sesStorage.clear();\r\n        })\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return sesStorage.getUser(STORAGE_KEY)\r\n\r\n}\r\n\r\nfunction _handleLogin(user) {\r\n    sesStorage.saveUser(STORAGE_KEY, user)\r\n    return user\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './../store/actions/userActions.js';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\r\nimport NotificationsNoneOutlinedIcon from '@material-ui/icons/NotificationsNoneOutlined';\r\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\r\n\r\nexport class _Header extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props;\r\n    let initials = 'G';\r\n    if (loggedInUser) {\r\n      initials =\r\n        loggedInUser.fullname.substring(0, 1) +\r\n        loggedInUser.fullname.charAt(loggedInUser.fullname.indexOf(' ') + 1);\r\n    }\r\n    return (\r\n      <div className=\"header-wrapper\">\r\n        <div className=\"header-left\">\r\n          <Link to=\"/\">\r\n            <button className=\"btn1\">\r\n              <span className=\"btn1-span\">\r\n                <span className=\"header-icon\">\r\n                  <HomeOutlinedIcon></HomeOutlinedIcon>\r\n                </span>\r\n              </span>\r\n            </button>\r\n          </Link>\r\n          <Link to=\"/Cardly\">\r\n            <button className=\"btn1\">\r\n              <span className=\"header-icon\">\r\n                <DashboardOutlinedIcon></DashboardOutlinedIcon>\r\n              </span>\r\n              <span className=\"header-icon-word\">Boards</span>\r\n            </button>\r\n          </Link>\r\n          <form className=\"header-input flex\">\r\n            <label hidden>Search Bar</label>\r\n            <input type=\"text\" />\r\n            <div className={this.searchClass} onClick={this.onOpenSearch}>\r\n              <div className=\"header-icon\">\r\n                <SearchIcon></SearchIcon>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <button className=\"logo-wrapper\">\r\n          <Link to=\"/\">\r\n            <span className=\"logo\">Cardly</span>\r\n          </Link>\r\n        </button>\r\n        <div className=\"header-right\">\r\n          <button className=\"btn1\">\r\n            <div className=\"btn1-span\">\r\n              <span className=\"header-icon\">\r\n                <NotificationsNoneOutlinedIcon></NotificationsNoneOutlinedIcon>\r\n              </span>\r\n            </div>\r\n          </button>\r\n\r\n          {loggedInUser ? (\r\n            <div className=\"flex\">\r\n              {/* Welcome {loggedInUser.fullname} */}\r\n              <Link to=\"/\">\r\n                <button className=\"btn1\" onClick={this.props.logout}>\r\n                  {' '}\r\n                  <span className=\"header-icon-word\">Logout</span>\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <Link to=\"/login\">\r\n              <button className=\"btn1\">\r\n                <span className=\"header-login\">Login</span>\r\n              </button>\r\n            </Link>\r\n          )}\r\n          <div className=\"header-avatar\">\r\n            {' '}\r\n            <button className=\"header-username pointer\">{initials}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  logout,\r\n};\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header);\r\n","import { userService } from '../../services/userService'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function login(userCreds) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await userService.login(userCreds)\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n            console.log('UserActions: err in login', err)\r\n        }\r\n    }\r\n}\r\nexport function signup(userCreds) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await userService.signup(userCreds)\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n            console.log('UserActions: err in signup', err)\r\n        }\r\n    }\r\n}\r\nexport function logout() {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.logout()\r\n            dispatch({ type: 'SET_USER', user: null })\r\n        } catch (err) {\r\n            console.log('UserActions: err in logout', err)\r\n        }\r\n    }\r\n}\r\n","import { Component } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../store/actions/userActions.js';\r\n\r\nexport class _Login extends Component {\r\n  state = {\r\n    loggedinUser: this.props.loggedInUser,\r\n    loginCred: {\r\n      username: '',\r\n      password: '',\r\n    },\r\n    signupCred: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n    },\r\n    isSignUp: false,\r\n    msg: '',\r\n  };\r\n\r\n  loginHandleChange = (ev) => {\r\n    const { name, value } = ev.target;\r\n    this.setState((prevState) => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  doLogin = async (ev) => {\r\n    ev.preventDefault();\r\n    const { username, password } = this.state.loginCred;\r\n    if (!username) {\r\n      return this.setState({ msg: 'Please enter user/password' });\r\n    }\r\n    const userCreds = { username, password };\r\n    this.props\r\n      .login(userCreds)\r\n      .then((user) => {\r\n        this.setState({\r\n          loginCred: { username: '', password: '' },\r\n          loggedInUser: user,\r\n        });\r\n        if (this.props.loggedInUser) this.props.history.push('/cardly');\r\n        else this.setState({ msg: 'Invalid username / Password' });\r\n      })\r\n      .catch((err) => {\r\n        console.log('ERR', err);\r\n        this.setState({ msg: 'Invalid username / Password' });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      // const loggedInUser = userService.getLoggedinUser();\r\n      <Container component=\"main\" maxWidth=\"xs\" className=\"login-container\">\r\n        <CssBaseline />\r\n        <div\r\n          style={{\r\n            marginTop: '10px',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar\r\n            style={{\r\n              margin: '10px',\r\n              backgroundColor: 'blue',\r\n            }}\r\n          >\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h2\" variant=\"h5\">\r\n            Log in\r\n          </Typography>\r\n          <form\r\n            onSubmit={this.doLogin}\r\n            style={{\r\n              width: '100%',\r\n              marginTop: '5px',\r\n            }}\r\n            noValidate\r\n          >\r\n            <TextField\r\n              variant=\"filled\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              autoFocus\r\n              value={this.state.loginCred.username}\r\n              onChange={this.loginHandleChange}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={this.state.loginCred.password}\r\n              onChange={this.loginHandleChange}\r\n            />\r\n            <label className=\"login-error-msg\">{this.state.msg}</label>\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ marginTop: '10px' }}\r\n            >\r\n              Log in\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"#/signup\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={8}></Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  login,\r\n};\r\n\r\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login);\r\n","\r\nexport const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId,\r\n    formatTime,\r\n    calcDoneTodos\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction formatTime(card, type) {\r\n    if (!card.dueDate) return\r\n    var months = [\r\n        'Jan',\r\n        'Feb',\r\n        'Mar',\r\n        'Apr',\r\n        'May',\r\n        'Jun',\r\n        'Jul',\r\n        'Aug',\r\n        'Sep',\r\n        'Oct',\r\n        'Nov',\r\n        'Dec',\r\n    ];\r\n    const { dueDate } = card\r\n    const timeDate = dueDate.split('T');\r\n    const month = months[timeDate[0].substring(6, 7) - 1];\r\n    const day = timeDate[0].substring(8);\r\n    return (type === 'dateTime' ? `${month} ${day} at ${timeDate[1]}` : `${month} ${day} `)\r\n};\r\n\r\n\r\nfunction calcDoneTodos(card) {\r\n    return card.checklists.reduce(\r\n        (acc, checklist) => {\r\n            checklist.todos.forEach((todo) => {\r\n                acc.length++;\r\n                if (todo.isDone) acc.done++;\r\n            });\r\n            return acc;\r\n        },\r\n        { done: 0, length: 0 }\r\n    );\r\n};","\r\n// import { httpService } from './misc/httpService.js'\r\nimport Axios from 'axios'\r\nimport { utilService } from './misc/utilService';\r\n\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\n//For Heroku use\r\nconst baseUrl = (process.env.NODE_ENV !== 'development')\r\n    ? '/api/board'\r\n    : '//localhost:3030/api/board';\r\n// var baseUrl = 'http://localhost:3030/api/board'\r\n\r\nexport const boardService = {\r\n    query,\r\n    getBoardById,\r\n    saveNewStack,\r\n    removeStack,\r\n    saveStack,\r\n    addCard,\r\n    removeCard,\r\n    saveCard,\r\n    updateDragCard,\r\n    updateDragCardToOtherList,\r\n    addBoard,\r\n    removeBoard,\r\n    moveStack\r\n}\r\n\r\n\r\nfunction query() {\r\n    return axios.get(baseUrl)\r\n        .then(res => {\r\n            return res.data\r\n\r\n        })\r\n        .catch(() => console.log('no data from server'))\r\n}\r\n\r\nfunction getBoardById(boardId) {\r\n    return axios.get(`${baseUrl}/${boardId}`)\r\n        .then(res => res.data)\r\n}\r\n\r\nfunction addBoard(board) {\r\n    return axios.post(`${baseUrl}`, board)\r\n        .then(res => res.data)\r\n}\r\n\r\nfunction removeBoard(boardId) {\r\n    return axios.delete(`${baseUrl}/${boardId}`)\r\n    // .then(res => res.data)\r\n}\r\n\r\nfunction saveNewStack(stack, selectedBoard) {\r\n    const selectedBoardCopy = { ...selectedBoard }\r\n    stack.id = utilService.makeId()\r\n    selectedBoardCopy.stacks.push(stack)\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n        .then(res => res.data)\r\n    return Promise.resolve(selectedBoardCopy)\r\n\r\n}\r\n\r\n\r\n\r\nfunction removeStack(stackId, boardId, selectedBoard) {\r\n    const selectedBoardCopy = { ...selectedBoard }\r\n    const stacks = selectedBoard.stacks.filter((stack) => stack.id !== stackId)\r\n    selectedBoardCopy.stacks = stacks\r\n    axios.put(`${baseUrl}/${boardId}`, selectedBoardCopy)\r\n        .then(res => res.data)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction saveStack(stack, selectedBoard) {\r\n    const selectedBoardCopy = { ...selectedBoard }\r\n    const newStacks = selectedBoardCopy.stacks.map((currStack) => currStack.id === stack.id ? stack : currStack)\r\n    selectedBoardCopy.stacks = newStacks\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n        .then(res => res.data)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction addCard(cardToAdd, stack, selectedBoard) {\r\n    const stackCopy = { ...stack }\r\n    const selectedBoardCopy = { ...selectedBoard }\r\n    cardToAdd.id = utilService.makeId()\r\n    cardToAdd.desc = '';\r\n    cardToAdd.comments = [];\r\n    cardToAdd.members = [];\r\n    cardToAdd.labels = [];\r\n    cardToAdd.checklists = [];\r\n    cardToAdd.dueDate = ''\r\n    cardToAdd.createdAt = Date.now()\r\n    cardToAdd.coverColor = ''\r\n    cardToAdd.byMember = {\r\n        _id: \"u102\",\r\n        fullname: \"Mosh Malka\",\r\n        imgUrl: \"https://res.cloudinary.com/dscb3040k/image/upload/v1610463697/Screenshot_2021-01-12_170113_ialgw7.png\"\r\n    }\r\n    stackCopy.cards.push(cardToAdd)\r\n    const newStacks = selectedBoardCopy.stacks.map((currStack) => currStack.id === stackCopy.id ? stackCopy : currStack)\r\n    selectedBoardCopy.stacks = newStacks\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n        .then(res => res.data)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction removeCard(cardId, stack, selectedBoard) {\r\n    const stackCopy = { ...stack }\r\n    const selectedBoardCopy = { ...selectedBoard }\r\n    const newCards = stackCopy.cards.filter((card) => card.id !== cardId)\r\n    stackCopy.cards = newCards\r\n    const newStacks = selectedBoardCopy.stacks.map((stack) => (stack.id === stackCopy.id) ? stackCopy : stack)\r\n    selectedBoardCopy.stacks = newStacks\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction saveCard(card, stack, selectedBoard) {\r\n    const cardCopy = { ...card }\r\n    const stackCopy = { ...stack }\r\n    const selectedBoardCopy = { ...selectedBoard }\r\n    const newCards = stackCopy.cards.map((card) => card.id === cardCopy.id ? cardCopy : card)\r\n    stackCopy.cards = newCards\r\n    const newStacks = selectedBoardCopy.stacks.map((stack) => (stack.id === stackCopy.id) ? stackCopy : stack)\r\n    selectedBoardCopy.stacks = newStacks\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction updateDragCard(result, stacks, selectedBoard) {\r\n    const stacksCopy = [...stacks];\r\n    const selectedBoardCopy = { ...selectedBoard };\r\n    const selectedStack = stacksCopy.find((stack) => stack.id === result.destination.droppableId)\r\n    const cardsCopy = [...selectedStack.cards]\r\n    const cardRemoved = cardsCopy.splice(result.source.index, 1)[0]\r\n    cardsCopy.splice(result.destination.index, 0, cardRemoved)\r\n    selectedStack.cards = cardsCopy\r\n    const stacksToUpdate = selectedBoardCopy.stacks.map((stack) => stack.id === selectedStack.id ? selectedStack : stack)\r\n    selectedBoardCopy.stacks = stacksToUpdate\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction updateDragCardToOtherList(result, stacks, selectedBoard) {\r\n    const { destination, source } = result;\r\n    const stacksCopy = [...stacks];\r\n    const selectedBoardCopy = { ...selectedBoard };\r\n    const sourceStack = stacksCopy.find((stack) => stack.id === source.droppableId);\r\n    const cardsSourceCopy = [...sourceStack.cards]\r\n    sourceStack.cards = cardsSourceCopy\r\n    const cardRemoved = sourceStack.cards.splice(result.source.index, 1)[0]\r\n    const destinationStack = stacksCopy.find((stack) => stack.id === destination.droppableId);\r\n    const cardsDestinationCopy = [...destinationStack.cards]\r\n    destinationStack.cards = cardsDestinationCopy\r\n    destinationStack.cards.splice(result.destination.index, 0, cardRemoved)\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n\r\nfunction moveStack(result, stacks, selectedBoard) {\r\n    const { destination, source } = result;\r\n    const stacksCopy = [...stacks];\r\n    const selectedBoardCopy = { ...selectedBoard };\r\n    const stackRemoved = stacksCopy.splice(source.index, 1)[0];\r\n    stacksCopy.splice(destination.index, 0, stackRemoved)\r\n    selectedBoardCopy.stacks = stacksCopy\r\n    axios.put(`${baseUrl}/${selectedBoardCopy._id}`, selectedBoardCopy)\r\n    return Promise.resolve(selectedBoardCopy)\r\n}\r\n","import io from 'socket.io-client'\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb) {\r\n      socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('board updateBoard', { from: 'Someone', txt: 'Aha it worked!' })\r\n    },\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n","import { boardService } from '../../services/boardService';\r\nimport { socketService } from './../../services/misc/socketService';\r\n\r\n\r\nexport function addBoard(board) {\r\n    return async dispatch => {\r\n        try {\r\n            const boardAdded = await boardService.addBoard(board)\r\n            dispatch({ type: 'ADD_BOARD', boardAdded })\r\n            return boardAdded;\r\n        }\r\n        catch (err) {\r\n            console.log('boardActions: err in addBoard', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeBoard(boardId) {\r\n    return async dispatch => {\r\n        try {\r\n            boardService.removeBoard(boardId)\r\n            dispatch({ type: 'DELETE_BOARD', boardId })\r\n        }\r\n        catch (err) {\r\n            console.log('boardActions: err in delete board', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadBoards() { // Action Creator\r\n    return async dispatch => {\r\n        try {\r\n            const boards = await boardService.query()\r\n            dispatch({ type: 'SET_BOARDS', boards })\r\n        }\r\n        catch (err) {\r\n            console.log('boardActions: err in loadBoards', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function setSelectedBoard(boardId) {\r\n    return async dispatch => {\r\n        try {\r\n            const board = await boardService.getBoardById(boardId)\r\n            // socketService.emit('update board', board)\r\n            dispatch({ type: 'SET_BOARD', board })\r\n        }\r\n        catch (err) {\r\n            console.log('boardActions: err in loadBoard', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function updateBoard(board) {\r\n    return async dispatch => {\r\n        try {\r\n            console.log('UPDATE BOARD')\r\n            dispatch({ type: 'UPDATE_BOARD', board })\r\n        }\r\n        catch (err) {\r\n            console.log('boardActions: err in loadBoard', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nexport class BoardPreview extends Component {\r\n  render() {\r\n    const { board, onRemove } = this.props;\r\n    const { bgc } = board.style;\r\n\r\n    return (\r\n      <div className=\"board-preview\">\r\n        {/* <button onClick={() => onRemove(board._id)}>X</button> */}\r\n        <div\r\n          className=\"board-preview-image\"\r\n          style={\r\n            bgc.startsWith('#')\r\n              ? { backgroundColor: bgc }\r\n              : { backgroundImage: `url(${bgc})` }\r\n          }\r\n        >\r\n          <Link to={`./cardly/${board._id}`}>\r\n            <div className=\"board-preview-card\">\r\n              <h3 className=\"board-preview-title\">{board.title}</h3>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        {/* <div class=\"board-preview-description\">Board Description and Members</div> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addBoard } from '../store/actions/boardActions';\r\nimport { utilService } from './../services/misc/utilService';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nexport class _AddBoard extends Component {\r\n  state = {\r\n    board: {\r\n      activities: [],\r\n      createdAt: Date.now(),\r\n      createdBy: {},\r\n      members: [],\r\n      stacks: [{ id: utilService.makeId(), cards: [], style: {}, title: '' }],\r\n      style: {\r\n        bgc: '',\r\n        mode: '',\r\n      },\r\n      title: '',\r\n    },\r\n  };\r\n\r\n  handleInput = (ev) => {\r\n    const { board } = this.state;\r\n    const { value } = ev.target;\r\n    board.title = value;\r\n    this.setState({ board });\r\n  };\r\n\r\n  async onSelectNewBoard(bgc) {\r\n    const { board } = this.state;\r\n    if (!board.title) return;\r\n    board.style.bgc = bgc;\r\n    this.setState({ board });\r\n    this.props.addBoard(board);\r\n    this.props.onCloseAddBoardSection();\r\n  }\r\n\r\n  render() {\r\n    const bgc = {\r\n      colors: ['#2e6cb0', '#889BC0', '#A36890', '#F0EFBD'],\r\n      imgsUrl: [\r\n        'https://res.cloudinary.com/dng1vynbr/image/upload/v1611427008/hearts_j79qmn.jpg',\r\n        'https://res.cloudinary.com/drak3llqt/image/upload/v1610553512/img1_uyzefw.jpg',\r\n        'https://res.cloudinary.com/drak3llqt/image/upload/v1610553514/img4_ohr2cl.png',\r\n        'https://res.cloudinary.com/drak3llqt/image/upload/v1610553508/img3_g44phk.png',\r\n        'https://res.cloudinary.com/drak3llqt/image/upload/v1611479917/KK4bC7ds_vuvzil.jpg',\r\n        'https://res.cloudinary.com/dng1vynbr/image/upload/v1611493508/download_smk3qa.jpg'\r\n      ],\r\n    };\r\n    const { onCloseAddBoardSection } = this.props;\r\n    return (\r\n      <section className=\"add-board-background\">\r\n        <div className=\"add-new-board\">\r\n          <button\r\n            className=\"clear-btn no-growth flex justify-center align-center\"\r\n            onClick={onCloseAddBoardSection}\r\n          >\r\n            <ClearIcon></ClearIcon>\r\n          </button>\r\n          <form className=\"add-board-form flex align-center justify-center\">\r\n            <label className=\"add-board-title\">Title:</label>\r\n            <input\r\n              className=\"add-board-input\"\r\n              type=\"text\"\r\n              name=\"\"\r\n              onChange={this.handleInput}\r\n              id=\"\"\r\n              value={this.state.board.title}\r\n            />\r\n          </form>\r\n          <div className=\" grid\">\r\n            {bgc.colors.map((color) => {\r\n              return (\r\n                <div\r\n                  onClick={() => this.onSelectNewBoard(color)}\r\n                  key={color}\r\n                  className=\"bgc-add-board pointer\"\r\n                  style={{ backgroundColor: color }}\r\n                ></div>\r\n              );\r\n            })}\r\n            {bgc.imgsUrl.map((img) => {\r\n              return (\r\n                <div\r\n                  onClick={() => this.onSelectNewBoard(img)}\r\n                  key={img}\r\n                  className=\"add-new-board-img pointer\"\r\n                >\r\n                  <img alt=\"\" src={img} />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        {/* <button>Add </button> */}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    boards: state.boardModule.boards,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  addBoard,\r\n};\r\n\r\nexport const AddBoard = connect(mapStateToProps, mapDispatchToProps)(_AddBoard);\r\n","import React, { Component } from 'react';\r\nimport { loadBoards, removeBoard } from './../store/actions/boardActions.js';\r\nimport { connect } from 'react-redux';\r\nimport { BoardPreview } from './../cmps/BoardPreview';\r\nimport { AddBoard } from '../cmps/AddBoard.jsx';\r\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\r\n\r\nexport class _CardlyApp extends Component {\r\n  state = {\r\n    isAddBoardShow: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadBoards();\r\n  }\r\n\r\n  loadBoards = () => {\r\n    this.props.loadBoards();\r\n  };\r\n\r\n  onShowAddBoardSection = () => {\r\n    this.setState({ isAddBoardShow: true });\r\n  };\r\n\r\n  onCloseAddBoardSection = () => {\r\n    this.setState({ isAddBoardShow: false });\r\n  };\r\n\r\n  onRemove = (boardId) => {\r\n    this.props.removeBoard(boardId);\r\n  };\r\n\r\n  render() {\r\n    const { boards } = this.props;\r\n    const { isAddBoardShow } = this.state;\r\n    if (!boards) return <h1>Loading...!!</h1>;\r\n    return (\r\n      <section className=\"app-wrapper flex column justify-center align-center\">\r\n        <header className=\"app-header\">\r\n          <h1 className=\"boards-title\">Boards</h1>\r\n        </header>\r\n        <div className=\"template-wrapper\">\r\n          {boards.map((board) => {\r\n            return (\r\n              <BoardPreview\r\n                onRemove={this.onRemove}\r\n                key={board._id}\r\n                board={board}\r\n              />\r\n            );\r\n          })}\r\n          <div\r\n            className=\"board-preview-card add-board\"\r\n            onClick={this.onShowAddBoardSection}\r\n          >\r\n            <AddOutlinedIcon />\r\n          </div>\r\n        </div>\r\n        <div className=\"board-preview\">\r\n          {/* <button className=\"cardly-btn\">\r\n            <span>Clone Board</span>\r\n          </button> */}\r\n\r\n          {isAddBoardShow && (\r\n            <AddBoard\r\n              onCloseAddBoardSection={this.onCloseAddBoardSection}\r\n            ></AddBoard>\r\n          )}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    boards: state.boardModule.boards,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadBoards,\r\n  removeBoard,\r\n};\r\n\r\nexport const CardlyApp = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_CardlyApp);\r\n","import React from 'react';\r\n\r\nexport function CardDetailsButton(props) {\r\n\r\n  const togglePopUp = (ev) => {\r\n    const { name, onButtonClick } = props\r\n    onButtonClick(name)\r\n  }\r\n  const txt = props.text;\r\n  return (\r\n    <button className=\"card-details-btn\" onClick={togglePopUp}>\r\n      <div className=\"props-icon\">{props.icon}</div>\r\n      <span className=\"props-txt\">{txt}</span>\r\n    </button>\r\n  )\r\n\r\n}\r\n","\r\nfunction on(eventName, listener) {\r\n    const callListener = ({ detail }) => {\r\n        listener(detail)\r\n    }\r\n    window.addEventListener(eventName, callListener)\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener)\r\n    }\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBus = { on, emit }","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nexport class MembersList extends React.Component {\r\n\r\n    state = {\r\n\r\n    }\r\n    render() {\r\n        const { users } = this.props\r\n        const classes = makeStyles((theme) => ({\r\n            root: {\r\n                display: 'flex',\r\n                '& > * + *': {\r\n                    marginLeft: theme.spacing(2),\r\n                },\r\n            },\r\n            small: {\r\n                width: theme.spacing(3),\r\n                height: theme.spacing(3),\r\n            },\r\n        }));\r\n        return (\r\n            <section className=\"member-row \">\r\n                {users.map(user => {\r\n                    return <div onClick={() => this.props.onMemberAdd(user)} className=\"avatars flex\" key={user._id}>\r\n                        <Avatar  src={user.imgUrl} className={classes.small} />\r\n                        <h3 className=\"avatar-username\">{user.fullname}</h3>\r\n                    </div>\r\n                }\r\n                )}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { MembersList } from '../MembersList.jsx';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport class MembersPopup extends Component {\r\n  togglePopUp = (ev) => {\r\n    const { name, onButtonClick } = this.props;\r\n    onButtonClick(name);\r\n  };\r\n\r\n  render() {\r\n    const boardUsers = this.props.boardUsers;\r\n    return (\r\n      <section className=\"members-container\">\r\n        <div className=\"pop-up-members\">\r\n          <CloseIcon\r\n            className=\"close-pop-up-btn\"\r\n            onClick={(ev) => this.togglePopUp(ev)}\r\n          />\r\n          <p className=\"pop-up-header\"> Members</p>\r\n          <hr></hr>\r\n          <input\r\n            autoFocus\r\n            placeholder=\"Search members\"\r\n            className=\"members-input\"\r\n          ></input>\r\n          <p>BOARD MEMBERS</p>\r\n          <MembersList\r\n            onMemberAdd={this.props.onMemberAdd}\r\n            users={boardUsers}\r\n          />\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nexport class LabelsPopup extends Component {\r\n\r\n    state = {\r\n\r\n    }\r\n    togglePopUp = (ev) => {\r\n        const { name, onButtonClick } = this.props\r\n        onButtonClick(name)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section>\r\n                <div className=\"pop-up-labels\">\r\n                    <CloseIcon\r\n                        className=\"close-pop-up-btn\"\r\n                        onClick={(ev) => this.togglePopUp(ev)}\r\n                    />\r\n                    <p className=\"pop-up-header\">Labels</p>\r\n                    <hr></hr>\r\n                    <input autoFocus placeholder=\"Search labels...\" className=\"label-input\"></input>\r\n                    <p className=\"label-title\">LABELS</p>\r\n                    <button onClick={() => { this.props.onLabelColorSelect('#87B768') }} className=\"label-color-pick label-green-label\"></button><CreateOutlinedIcon className=\"edit-icon\"></CreateOutlinedIcon>\r\n                    <button onClick={() => { this.props.onLabelColorSelect('#4677B5') }} className=\"label-color-pick label-blue-label\"></button><CreateOutlinedIcon className=\"edit-icon\"></CreateOutlinedIcon>\r\n                    <button onClick={() => { this.props.onLabelColorSelect('#AC7ED1') }} className=\"label-color-pick label-purple-label\"></button><CreateOutlinedIcon className=\"edit-icon\"></CreateOutlinedIcon>\r\n                    <button onClick={() => { this.props.onLabelColorSelect('#E9D661') }} className=\"label-color-pick label-yellow-label\"></button><CreateOutlinedIcon className=\"edit-icon\"></CreateOutlinedIcon>\r\n                    <button onClick={() => { this.props.onLabelColorSelect('#E6A454') }} className=\"label-color-pick label-orange-label\"></button><CreateOutlinedIcon className=\"edit-icon\"></CreateOutlinedIcon>\r\n                    <button onClick={() => { this.props.onLabelColorSelect('#CB6B56') }} className=\"label-color-pick label-red-label\"></button><CreateOutlinedIcon className=\"edit-icon\"></CreateOutlinedIcon>\r\n                    <button className=\"pop-up-labels-btn\">Create a new label</button>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport class CheckListPopup extends Component {\r\n  state = {\r\n    value: 'Checklist',\r\n  };\r\n\r\n  togglePopUp = (ev) => {\r\n    const { name, onButtonClick } = this.props;\r\n    onButtonClick(name);\r\n  };\r\n\r\n  handleInput = (ev) => {\r\n    const value = ev.target.value;\r\n    this.setState({ value });\r\n  };\r\n\r\n  onAdd = (value) => {\r\n    this.props.onCheckListSelect(value);\r\n    this.props.onCloseCheckListPopUp();\r\n  };\r\n\r\n  render() {\r\n    let { value } = this.state;\r\n    return (\r\n      <section>\r\n        <div className=\"pop-up-checklist\">\r\n          <CloseIcon\r\n            className=\"close-pop-up-btn\"\r\n            onClick={(ev) => this.togglePopUp(ev)}\r\n          />\r\n          <p className=\"pop-up-header\">Add Checklist</p>\r\n          <hr></hr>\r\n          <div className=\"pop-up-title\">Title</div>\r\n          <form onSubmit={() => this.onAdd(value)}>\r\n            <input\r\n              autoFocus\r\n              onChange={this.handleInput}\r\n              defaultValue=\"Checklist\"\r\n              className=\"checklist-input\"\r\n            ></input>\r\n            <button\r\n              onClick={() => {\r\n                this.onAdd(value);\r\n              }}\r\n              className=\"save-btn\"\r\n            >\r\n              Add\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nexport function DateAndTimePickers({ onSetDate }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <form className={classes.container} noValidate>\r\n      <TextField\r\n        onChange={onSetDate}\r\n        id=\"datetime-local\"\r\n        type=\"datetime-local\"\r\n        defaultValue=\"2021-01-23T12:00\"\r\n        className={classes.textField}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { DateAndTimePickers } from './../DateAndTimePickers';\r\n\r\nexport class DueDatePopup extends Component {\r\n  state = {\r\n    dueDate: '',\r\n  };\r\n  togglePopUp = (ev) => {\r\n    const { name, onButtonClick } = this.props;\r\n    onButtonClick(name);\r\n  };\r\n\r\n  onSetDate = ({ target }) => {\r\n    let value = target.value;\r\n    this.setState({ dueDate: value });\r\n  };\r\n\r\n  onSaveDueDate = () => {\r\n    const { onSetDueDate } = this.props;\r\n    const { dueDate } = this.state;\r\n    onSetDueDate(dueDate);\r\n    this.togglePopUp();\r\n  };\r\n\r\n  onRemove = () => {\r\n    const { onRemoveDueDate } = this.props;\r\n    onRemoveDueDate();\r\n    this.togglePopUp();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <div className=\"pop-up-due-date\">\r\n          <CloseIcon\r\n            className=\"close-pop-up-btn\"\r\n            onClick={(ev) => this.togglePopUp(ev)}\r\n          />\r\n          <p className=\"pop-up-header\">Change Due Date</p>\r\n          <hr></hr>\r\n          <DateAndTimePickers onSetDate={this.onSetDate} />\r\n          <div className=\"save-btn-container flex align-center space-between\">\r\n            <button className=\"save-btn\" onClick={this.onSaveDueDate}>\r\n              Save\r\n            </button>\r\n            <button className=\"remove-duedate-btn\" onClick={this.onRemove}>\r\n              Remove\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","async function uploadImg(ev) {\n    const CLOUD_NAME = \"dscb3040k\"\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n\n    const formData = new FormData();\n    formData.append('file', ev.target.files[0])\n    formData.append('upload_preset', 'zbzfctom');\n    try {\n        const res = await fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n        const data = await res.json()\n        console.log(data)\n        return Promise.resolve(data);\n\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nexport const cloudinaryService = {\n    uploadImg\n}","import { boardService } from './../../services/boardService';\r\nimport { socketService } from '../../services/misc/socketService.js'\r\n\r\n\r\nexport function addCard(cardToAdd, stack, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.addCard(cardToAdd, stack, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function removeCard(cardId, stack, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.removeCard(cardId, stack, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                console.log(board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function saveCard(card, stack, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.saveCard(card, stack, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function updateDragCard(result, stacks, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.updateDragCard(result, stacks, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\nexport function updateDragCardToOtherList(result, stacks, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.updateDragCardToOtherList(result, stacks, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { cloudinaryService } from '../../../services/cloudinaryService.js';\r\nimport { saveCard } from './../../../store/actions/cardActions';\r\nimport { connect } from 'react-redux';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport class _AttachmentPopup extends Component {\r\n  state = {\r\n    card: {},\r\n    imageUpload: '',\r\n  };\r\n  componentDidMount() {\r\n    const { card } = this.props;\r\n    this.setState({ card });\r\n  }\r\n\r\n  togglePopUp = (ev) => {\r\n    const { name, onButtonClick } = this.props;\r\n    onButtonClick(name);\r\n  };\r\n\r\n  upload = (ev) => {\r\n    this.setState({ imageUpload: 'Uploading' });\r\n    cloudinaryService.uploadImg(ev).then((url) => {\r\n      const { card } = this.state;\r\n      const { stack, selectedBoard } = this.props;\r\n      card.imgUrl = url.secure_url;\r\n      this.setState({ card, imageUpload: '' }, () => {\r\n        this.props.saveCard(card, stack, selectedBoard);\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { imageUpload } = this.state;\r\n    return (\r\n      <section>\r\n        <div className=\"pop-up-attachments\">\r\n          <CloseIcon\r\n            className=\"close-pop-up-btn\"\r\n            onClick={(ev) => this.togglePopUp(ev)}\r\n          />\r\n          <p className=\"pop-up-header\"> Attach From...</p>\r\n          <hr></hr>\r\n          <div className=\"attach-choice\">\r\n            <input\r\n              id=\"file-upload\"\r\n              placeholder=\"Computer\"\r\n              onChange={this.upload}\r\n              type=\"file\"\r\n            ></input>\r\n            <label className=\"pointer\" htmlFor=\"file-upload\">\r\n              {imageUpload ? <CircularProgress /> : 'Computer'}\r\n            </label>\r\n          </div>\r\n          <p className=\"attach-choice\">Google Drive</p>\r\n          <p className=\"attach-choice\">DropBox</p>\r\n          <p className=\"attach-choice\">One Drive</p>\r\n          <hr></hr>\r\n          <label className=\"attach-label\">Attach a link</label>\r\n          <input\r\n            autoFocus\r\n            placeholder=\"Paste any link here\"\r\n            className=\"attach-input\"\r\n          ></input>\r\n          <button className=\"pop-up-attach-btn\">Attach</button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  saveCard,\r\n};\r\n\r\nexport const AttachmentPopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_AttachmentPopup);\r\n","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport class CoverPopup extends Component {\r\n  togglePopUp = (ev) => {\r\n    const { name, onButtonClick } = this.props;\r\n    onButtonClick(name);\r\n  };\r\n\r\n  onAdd = (color) => {\r\n    this.props.onCoverColorSelect(color);\r\n    this.props.onCloseCoverPopUp();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <div className=\"pop-up-cover\">\r\n          <CloseIcon\r\n            className=\"close-pop-up-btn\"\r\n            onClick={(ev) => this.togglePopUp(ev)}\r\n          />\r\n          <p className=\"pop-up-header\">Cover</p>\r\n          <hr></hr>\r\n          <label className=\"color-title\">COLORS</label>\r\n          <section className=\"cover-color-container flex\">\r\n            <div\r\n              className=\"cover-color cover-green-label\"\r\n              onClick={() => this.onAdd('#97BF7C')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-yellow-label\"\r\n              onClick={() => this.onAdd('#EEDD6B')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-orange-label\"\r\n              onClick={() => this.onAdd('#E9B366')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-red-label\"\r\n              onClick={() => this.onAdd('#D2816F')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-purple-label\"\r\n              onClick={() => this.onAdd('#BC94DB')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-blue-label\"\r\n              onClick={() => this.onAdd('#749BC0')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-light-blue-label\"\r\n              onClick={() => this.onAdd('#7DC7DF')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-light-green-label\"\r\n              onClick={() => this.onAdd('#9DDCAB')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-pink-label\"\r\n              onClick={() => this.onAdd('#E39ACE')}\r\n            ></div>\r\n            <div\r\n              className=\"cover-color cover-black-label\"\r\n              onClick={() => this.onAdd('#172b4d')}\r\n            ></div>\r\n          </section>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { CardDetailsButton } from '../CardDetailsButton.jsx';\r\nimport { eventBus } from '../../../services/eventBusService.js';\r\nimport { MembersPopup } from '../cardDetailsPopUps/MembersPopup.jsx';\r\nimport { LabelsPopup } from '../cardDetailsPopUps/LabelsPopup.jsx';\r\nimport { CheckListPopup } from '../cardDetailsPopUps/CheckListPopup.jsx';\r\nimport { DueDatePopup } from '../cardDetailsPopUps/DueDatePopup.jsx';\r\nimport { AttachmentPopup } from '../cardDetailsPopUps/AttachmentPopup.jsx';\r\nimport { CoverPopup } from '../cardDetailsPopUps/CoverPopup.jsx';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport VideoLabelIcon from '@material-ui/icons/VideoLabel';\r\n\r\nexport class CardSideBar extends Component {\r\n  state = {\r\n    memberPopUp: false,\r\n    labelPopUp: false,\r\n    checklistPopUp: false,\r\n    dueDatePopUp: false,\r\n    attachmentPopUp: false,\r\n    coverPopUp: false,\r\n  };\r\n  componentDidMount() {\r\n    this.closeListener = eventBus.on('close', () => {\r\n      this.setState({\r\n        memberPopUp: false,\r\n        labelPopUp: false,\r\n        checklistPopUp: false,\r\n        dueDatePopUp: false,\r\n        attachmentPopUp: false,\r\n        coverPopUp: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.closeListener();\r\n  }\r\n\r\n  onMemberClick = (e) => {\r\n    const showModlaMember = !this.state.memberPopUp;\r\n    this.setState({ memberPopUp: showModlaMember });\r\n  };\r\n\r\n  callBack = (popupToOpen) => {\r\n    if (this.state[popupToOpen]) {\r\n      this.setState({ [popupToOpen]: false });\r\n      return;\r\n    }\r\n    this.setState(\r\n      {\r\n        memberPopUp: false,\r\n        labelPopUp: false,\r\n        checklistPopUp: false, ///close\r\n        dueDatePopUp: false,\r\n        attachmentPopUp: false,\r\n        coverPopUp: false, //close\r\n      },\r\n      () => {\r\n        this.setState({ [popupToOpen]: true });\r\n      }\r\n    );\r\n  };\r\n\r\n  onCloseCheckListPopUp = () => {\r\n    this.setState({ checklistPopUp: false });\r\n  };\r\n  onCloseCoverPopUp = () => {\r\n    this.setState({ coverPopUp: false });\r\n  };\r\n\r\n  render() {\r\n    const { memberPopUp } = this.state;\r\n    const { labelPopUp } = this.state;\r\n    const { checklistPopUp } = this.state;\r\n    const { dueDatePopUp } = this.state;\r\n    const { attachmentPopUp } = this.state;\r\n    const { coverPopUp } = this.state;\r\n    return (\r\n      <div className=\"sidebar-container \">\r\n        <div className=\"sidebar-title\">ADD TO CARD</div>\r\n        <div className=\"sidebar-btns flex wrap\">\r\n          {memberPopUp && (\r\n            <MembersPopup\r\n              name=\"memberPopUp\"\r\n              onButtonClick={this.callBack}\r\n              onMemberAdd={this.props.onMemberAdd}\r\n              boardUsers={this.props.boardUsers}\r\n            />\r\n          )}\r\n          {labelPopUp && (\r\n            <LabelsPopup\r\n              name=\"labelPopUp\"\r\n              onButtonClick={this.callBack}\r\n              onLabelColorSelect={this.props.onLabelColorSelect}\r\n            />\r\n          )}\r\n          {checklistPopUp && (\r\n            <CheckListPopup\r\n              name=\"checklistPopUp\"\r\n              onButtonClick={this.callBack}\r\n              onCheckListSelect={this.props.onCheckListSelect}\r\n              onCloseCheckListPopUp={this.onCloseCheckListPopUp}\r\n            />\r\n          )}\r\n          {dueDatePopUp && (\r\n            <DueDatePopup\r\n              onSetDueDate={this.props.onSetDueDate}\r\n              name=\"dueDatePopUp\"\r\n              onButtonClick={this.callBack}\r\n              onRemoveDueDate={this.props.onRemoveDueDate}\r\n            />\r\n          )}\r\n          {attachmentPopUp && (\r\n            <AttachmentPopup\r\n              name=\"attachmentPopUp\"\r\n              onButtonClick={this.callBack}\r\n              stack={this.props.stack}\r\n              card={this.props.card}\r\n            />\r\n          )}\r\n          {coverPopUp && (\r\n            <CoverPopup\r\n              name=\"coverPopUp\"\r\n              onButtonClick={this.callBack}\r\n              onCoverColorSelect={this.props.onCoverColorSelect}\r\n              onCloseCoverPopUp={this.onCloseCoverPopUp}\r\n            />\r\n          )}\r\n\r\n          <CardDetailsButton\r\n            icon={<PersonIcon></PersonIcon>}\r\n            text=\"Members\"\r\n            name=\"memberPopUp\"\r\n            onButtonClick={this.callBack}\r\n          />\r\n\r\n          <CardDetailsButton\r\n            icon={<LocalOfferIcon></LocalOfferIcon>}\r\n            text=\"Labels\"\r\n            name=\"labelPopUp\"\r\n            onButtonClick={this.callBack}\r\n          />\r\n\r\n          <CardDetailsButton\r\n            icon={<CheckBoxIcon></CheckBoxIcon>}\r\n            text=\"Checklist\"\r\n            name=\"checklistPopUp\"\r\n            onButtonClick={this.callBack}\r\n          />\r\n\r\n          <CardDetailsButton\r\n            icon={<ScheduleIcon></ScheduleIcon>}\r\n            text=\"Due Date\"\r\n            name=\"dueDatePopUp\"\r\n            onButtonClick={this.callBack}\r\n          />\r\n\r\n          <CardDetailsButton\r\n            icon={<AttachFileIcon></AttachFileIcon>}\r\n            text=\"Attachment\"\r\n            name=\"attachmentPopUp\"\r\n            onButtonClick={this.callBack}\r\n          />\r\n\r\n          <CardDetailsButton\r\n            icon={<VideoLabelIcon></VideoLabelIcon>}\r\n            text=\"Cover\"\r\n            name=\"coverPopUp\"\r\n            onButtonClick={this.callBack}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport SubjectIcon from '@material-ui/icons/Subject';\r\n// import Icon from '@material-ui/core/Icon';\r\n\r\nexport class CardDescription extends Component {\r\n  state = {\r\n    card: {},\r\n  };\r\n  componentDidMount() {\r\n    const { card } = this.props;\r\n    const cardCopy = { ...card };\r\n    this.setState({ card: cardCopy });\r\n  }\r\n\r\n  handleInput = (ev) => {\r\n    const { card } = this.state;\r\n    card.desc = ev.target.value;\r\n    this.setState({ card });\r\n  };\r\n\r\n  saveDesc = () => {\r\n    const { onSaveCard } = this.props;\r\n    const { card } = this.state;\r\n    onSaveCard(card);\r\n  };\r\n\r\n  render() {\r\n    const { card } = this.state;\r\n    return (\r\n      <section className=\"card-desc-container\">\r\n        <div className=\"card-desc-title\">\r\n          <SubjectIcon className=\"desc-icon\" />\r\n          <h3 className=\"card-desc-words\">Description</h3>\r\n        </div>\r\n        <div className=\"card-desc-textarea\">\r\n          <textarea\r\n            className=\"cd-textarea\"\r\n            placeholder=\"Add a more detailed description...\"\r\n            value={card.desc}\r\n            rows=\"4\"\r\n            cols=\"50\"\r\n            onChange={this.handleInput}\r\n          ></textarea>\r\n          <button className=\"save-btn\" onClick={this.saveDesc}>\r\n            Save\r\n          </button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport AlternateEmailIcon from '@material-ui/icons/AlternateEmail';\r\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\r\nimport { clientsClaim } from 'workbox-core';\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nexport class CardActivity extends Component {\r\n  state = {\r\n    comment: '',\r\n    isActivitySelected: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ comment: this.props.comment });\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    let { comment } = this.state;\r\n    comment = ev.target.value;\r\n    this.setState({ comment });\r\n  };\r\n\r\n  onEditActivity = () => {\r\n    const { isActivitySelected } = this.state;\r\n    isActivitySelected\r\n      ? this.setState({ isActivitySelected: false })\r\n      : this.setState({ isActivitySelected: true });\r\n  };\r\n\r\n  convertToDate = (timestamp) => {\r\n    let date = new Date(timestamp).toLocaleString();\r\n    const dateCopy = date.split('/');\r\n    const day = dateCopy[0];\r\n    const month = dateCopy[1];\r\n    const year = dateCopy[2];\r\n    return `${day}/${month}/${year}`;\r\n  };\r\n\r\n  onCommentSave = () => {\r\n    const { onCommentAdd } = this.props;\r\n    onCommentAdd(this.state.comment);\r\n    const comment = '';\r\n    this.setState({ comment });\r\n  };\r\n\r\n  render() {\r\n    const { card } = this.props;\r\n    const { comment } = this.state;\r\n    return (\r\n      <section className=\"cd-cmp flex column\">\r\n        <div className=\"card-act-title\">\r\n          <FormatListBulletedIcon className=\"act-icon\" />\r\n          <h3 className=\"cd-subtitle-words\">Activity</h3>\r\n        </div>\r\n        <div>\r\n          <div className=\"cd-subtitle-txt\">\r\n            <div className=\"card-act-textarea\">\r\n              <textarea\r\n                onChange={this.handleChange}\r\n                className=\"act-textarea\"\r\n                value={comment}\r\n                placeholder=\"Write a comment...\"\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"act-original-save flex space-between align-center\">\r\n              <button className=\"save-btn\" onClick={this.onCommentSave}>\r\n                Save\r\n              </button>\r\n              {/* <div className=\"activity-bar-icons\">\r\n                <AttachFileIcon className=\"activity-icon\" />\r\n                <AlternateEmailIcon className=\"activity-icon\" />\r\n              </div> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {card.comments.map((comment) => {\r\n          const fullname = comment.createdBy ? comment.createdBy.fullname : '';\r\n          const initials =\r\n            fullname.substring(0, 1) +\r\n            fullname.charAt(fullname.indexOf(' ') + 1);\r\n          const date = this.convertToDate(comment.createdAt);\r\n          // console.log('date is:', date);\r\n          return (\r\n            <div key={comment.id}>\r\n              <div className=\"card-activity-container flex\">\r\n                {!initials.length ? (\r\n                  <Avatar\r\n                    size=\"10\"\r\n                    src=\"frontend/src/assets/imgs/avatar-person.svg\"\r\n                  ></Avatar>\r\n                ) : (\r\n                    <Avatar size=\"10\">{initials}</Avatar>\r\n                  )}\r\n                <div className=\"card-activity-row\">\r\n                  <input\r\n                    className=\"card-details-activity-textarea\"\r\n                    onClick={this.onEditActivity}\r\n                    onChange={this.handleChange}\r\n                    value={comment.txt}\r\n                  ></input>\r\n                  <div className=\"card-activity-date\">{date}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nexport class CardLabels extends Component {\r\n\r\n    render() {\r\n        const { labels } = this.props\r\n        return (\r\n            <section>\r\n                <div>\r\n                    {labels.map((label, idx) => {\r\n                        return <button key={idx} className=\"card-label-preview\" style={{ background: `${label}` }} ></button>\r\n                    })}\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nexport function TodoPreview({\r\n  todo,\r\n  onRemoveTodo,\r\n  checklist,\r\n  handleCheckboxTodo,\r\n}) {\r\n  return (\r\n    <div key={todo.id} className=\"todo-row flex space-between\">\r\n      <div>\r\n        <input\r\n          className=\"todo-input\"\r\n          checked={todo.isDone ? 'checked' : ''}\r\n          onChange={() => handleCheckboxTodo(todo.id, checklist)}\r\n          type=\"checkbox\"\r\n        ></input>\r\n        <span className={todo.isDone ? 'todo-done todo-txt' : 'todo-txt'}>\r\n          {todo.txt}\r\n        </span>\r\n      </div>\r\n      <DeleteIcon\r\n        onClick={() => onRemoveTodo(todo.id, checklist)}\r\n        className=\"todo-delete-icon\"\r\n      ></DeleteIcon>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport function LinearProgressWithLabel(props) {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\">\r\n      <Box minWidth={35}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n          props.value\r\n        )}%`}</Typography>\r\n      </Box>\r\n      <Box width=\"100%\" mr={1}>\r\n        <LinearProgress variant=\"determinate\" {...props} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { TodoPreview } from './TodoPreview';\r\nimport LibraryAddCheckOutlinedIcon from '@material-ui/icons/LibraryAddCheckOutlined';\r\nimport { eventBus } from './../../../services/eventBusService';\r\nimport { LinearProgressWithLabel } from './LinearProgressWithLabel';\r\n\r\nexport class ChecklistPreview extends Component {\r\n  state = { isAddItemShow: false };\r\n\r\n  componentDidMount() {\r\n    this.unsubscribeFromEventBus = eventBus.on('closeAddSection', (data) =>\r\n      this.setState({ isAddItemShow: false })\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeFromEventBus();\r\n  }\r\n\r\n  toggleAddItem() {\r\n    let { isAddItemShow } = this.state;\r\n    isAddItemShow = !isAddItemShow;\r\n    this.setState({ isAddItemShow });\r\n  }\r\n\r\n  calcTodosForPrograss = () => {\r\n    const { checklist } = this.props;\r\n    const todoCheckedCount = checklist.todos.reduce((acc, todo) => {\r\n      if (todo.isDone) acc++;\r\n      return acc;\r\n    }, 0);\r\n\r\n    const precent = (todoCheckedCount / checklist.todos.length) * 100;\r\n    if (!precent) return 0;\r\n    return precent;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      checklist,\r\n      onRemoveTodo,\r\n      handleInput,\r\n      addTodo,\r\n      handleCheckboxTodo,\r\n    } = this.props;\r\n    return (\r\n      <section key={checklist.id} className=\"checklist flex column\">\r\n        <div className=\"flex space-between column\">\r\n          <div className=\"cl-subtitle \">\r\n            <LibraryAddCheckOutlinedIcon className=\"checklist-icon\" />\r\n            <div className=\"cl-inner-span flex space-between\">\r\n              <h3 className=\"cl-subtitle-txt flex align-center\">\r\n                {checklist.title}\r\n              </h3>\r\n              <button\r\n                className=\"checklist-del-btn\"\r\n                onClick={() => {\r\n                  this.props.onRemove(checklist.id);\r\n                }}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <LinearProgressWithLabel value={this.calcTodosForPrograss()} />\r\n          {checklist.todos.map((todo) => {\r\n            return (\r\n              <TodoPreview\r\n                key={todo.id}\r\n                todo={todo}\r\n                checklist={checklist}\r\n                onRemoveTodo={onRemoveTodo}\r\n                handleCheckboxTodo={handleCheckboxTodo}\r\n              />\r\n            );\r\n          })}\r\n          {this.state.isAddItemShow && (\r\n            <div className=\"flex add-todo-container\">\r\n              <input class=\"add-todo-input\" onChange={handleInput} placeholder=\"Add an item\"></input>\r\n              <button className=\"add-todo-btn\" onClick={() => addTodo(checklist)}>Add</button>\r\n            </div>\r\n          )}\r\n          <div className=\"flex\">\r\n            <button\r\n              className=\"checklist-add\"\r\n              onClick={() => this.toggleAddItem()}\r\n            >\r\n              Add an Item\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { utilService } from '../../../services/misc/utilService.js';\r\nimport { ChecklistPreview } from './ChecklistPreview.jsx';\r\nimport { eventBus } from './../../../services/eventBusService';\r\n\r\nexport class CardChecklist extends Component {\r\n  state = {\r\n    newTodo: '',\r\n    todos: [],\r\n    closeAddTodoSection: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    let todos = [];\r\n    this.props.checklists.map((todoList) => {\r\n      todos.push(todoList);\r\n    });\r\n    this.setState({ todos });\r\n  }\r\n\r\n  handleInput = (ev) => {\r\n    let { newTodo } = this.state;\r\n    newTodo = ev.target.value;\r\n    this.setState({ newTodo });\r\n  };\r\n\r\n  addTodo = (currChecklist) => {\r\n    currChecklist.todos.push({\r\n      id: utilService.makeId(),\r\n      txt: this.state.newTodo,\r\n      isDone: false,\r\n      createdAt: Date.now(),\r\n    });\r\n    this.setState({ todos: currChecklist.todos });\r\n    this.props.updateChecklist(currChecklist);\r\n    eventBus.emit('closeAddSection', false);\r\n  };\r\n\r\n  handleCheckboxTodo = (todoId, checklist) => {\r\n    const { ...copyChecklist } = checklist;\r\n    const todoToUpdate = copyChecklist.todos.find((todo) => todo.id === todoId);\r\n    todoToUpdate.isDone = !todoToUpdate.isDone;\r\n    const checklistToUpdate = copyChecklist.todos.map((todo) =>\r\n      todo.id === todoToUpdate.id ? todoToUpdate : todo\r\n    );\r\n\r\n    this.props.updateChecklist(checklistToUpdate);\r\n  };\r\n\r\n  render() {\r\n    const { checklists } = this.props;\r\n    return (\r\n      <div>\r\n        {checklists.map((checklist) => {\r\n          return (\r\n            <ChecklistPreview\r\n              handleCheckboxTodo={this.handleCheckboxTodo}\r\n              key={checklist.id}\r\n              checklist={checklist}\r\n              onRemoveTodo={this.props.onRemoveTodo}\r\n              handleInput={this.handleInput}\r\n              addTodo={this.addTodo}\r\n              onRemove={this.props.onRemove}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    small: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n    },\r\n    large: {\r\n        width: theme.spacing(7),\r\n        height: theme.spacing(7),\r\n    },\r\n}));\r\n\r\n\r\nexport function MembersAvatar({ users }) {\r\n    const classes = useStyles();\r\n    return (\r\n        <section className=\"members-avatar-cont flex pointer\">\r\n            {users.map(user => {\r\n                return <div key={user._id} className=\"avatar-cont\" >\r\n                    <Avatar className={classes.small} size=\"10\" src={user.imgUrl} />\r\n                </div>\r\n            })\r\n            }\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\n\r\nexport function CardImg({ card, onRemoveImage }) {\r\n    return (\r\n        <section>\r\n            <div className=\"card-att-title flex\">\r\n                <AttachFileIcon className=\"att-icon\" />\r\n                <h3 className=\"cd-subtitle-words\">Attachments</h3>\r\n            </div>\r\n            <div className=\"flex\">\r\n                <img className=\"cd-img\" src={card.imgUrl} alt=\"\" />\r\n                <div className=\"flex column\">\r\n                    <p className=\"img-name\">{card.imgUrl}</p>\r\n                    <button className=\"attachment-del-btn\" onClick={() => onRemoveImage(card)} >Delete</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { utilService } from '../services/misc/utilService.js';\r\nimport { CardSideBar } from './cardDetailsCmps/cardDetailsBodyCmps/CardSideBar.jsx';\r\nimport { CardDescription } from './cardDetailsCmps/cardDetailsBodyCmps/CardDescription.jsx';\r\nimport { CardActivity } from './cardDetailsCmps/cardDetailsBodyCmps/CardActivity.jsx';\r\nimport { CardLabels } from './cardDetailsCmps/cardDetailsBodyCmps/CardLabels.jsx';\r\nimport { CardChecklist } from './cardDetailsCmps/cardDetailsBodyCmps/CardChecklist.jsx';\r\nimport { MembersAvatar } from '../cmps/cardDetailsCmps/cardDetailsBodyCmps/MembersAvatar.jsx';\r\nimport { saveCard } from '../store/actions/cardActions.js';\r\nimport { CardImg } from '../cmps/cardDetailsCmps/cardDetailsBodyCmps/CardImg.jsx';\r\nimport { loadUsers } from '../store/actions/userActions.js';\r\nimport { userService } from '../services/userService';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\n\r\nexport class _CardDetails extends Component {\r\n  state = {\r\n    card: {\r\n      comments: [],\r\n      labels: [],\r\n      checklists: [],\r\n      coverColor: '',\r\n      members: [],\r\n      dueDate: '',\r\n    },\r\n    boardUsers: [],\r\n    loggedUser: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { card } = this.props;\r\n    const boardUsers = this.props.selectedBoard.members;\r\n    let loggedUser = userService.getLoggedinUser();\r\n    if (!loggedUser) {\r\n      loggedUser = { fullname: 'Guest' };\r\n    }\r\n    this.setState({ loggedUser, card, boardUsers });\r\n  }\r\n\r\n  onMemberAdd = (user) => {\r\n    let { card } = this.state;\r\n    let { loggedUser } = this.state;\r\n\r\n    const memberIndx = card.members.findIndex(\r\n      (member) => member._id === user._id\r\n    );\r\n    if (memberIndx === -1) {\r\n      card.members.push(user);\r\n      card.comments.unshift({\r\n        id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        txt: `${loggedUser.fullname} added ${user.fullname} to this card`,\r\n      });\r\n    } else {\r\n      card.comments.unshift({\r\n        id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        txt: `${loggedUser.fullname} removed ${user.fullname} from this card`,\r\n      });\r\n      card.members.splice(memberIndx, 1);\r\n    }\r\n    this.setState({ card }, () => {\r\n      this.props.saveCard(\r\n        this.state.card,\r\n        this.props.stack,\r\n        this.props.selectedBoard\r\n      );\r\n    });\r\n  };\r\n\r\n  setLabelOnCard = (color) => {\r\n    const { card } = this.state;\r\n    let { comments } = card;\r\n    // const { loggedUser } = this.state;\r\n    const colorIndx = card.labels.findIndex(\r\n      (labelColor) => labelColor === color\r\n    );\r\n    if (colorIndx === -1) {\r\n      comments.unshift({\r\n        id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        txt: `${this.state.loggedUser.fullname} added card label color`,\r\n      });\r\n      card.labels.push(color);\r\n    } else {\r\n      comments.unshift({\r\n        id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        txt: `${this.state.loggedUser.fullname} removed card label color`,\r\n      });\r\n      card.labels.splice(colorIndx, 1);\r\n    }\r\n    this.setState({ card, comments }, () => {\r\n      console.log('this.state.card is:', this.state.card);\r\n      this.props.saveCard(\r\n        this.state.card,\r\n        this.props.stack,\r\n        this.props.selectedBoard\r\n      );\r\n    });\r\n  };\r\n\r\n  setCardColor = (color) => {\r\n    let { card } = this.state;\r\n    let { comments } = card;\r\n    if (card.coverColor === color) {\r\n      comments.unshift({\r\n        id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        txt: `${this.state.loggedUser.fullname} removed card cover color`,\r\n      });\r\n      card.coverColor = '';\r\n    } else {\r\n      comments.unshift({\r\n        id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        txt: `${this.state.loggedUser.fullname} added card cover color`,\r\n      });\r\n      card.coverColor = color;\r\n    }\r\n    this.setState({ card, comments }, () => {\r\n      this.props.saveCard(\r\n        this.state.card,\r\n        this.props.stack,\r\n        this.props.selectedBoard\r\n      );\r\n    });\r\n  };\r\n\r\n  addChecklist = (checklistName) => {\r\n    const { card } = this.state;\r\n    let { comments } = card;\r\n    let checkListItem = {\r\n      id: utilService.makeId(),\r\n      title: checklistName,\r\n      todos: [],\r\n      createdAt: Date.now(),\r\n    };\r\n    comments.unshift({\r\n      id: utilService.makeId(),\r\n      createdAt: Date.now(),\r\n      txt: `${this.state.loggedUser.fullname} added checklist - ${checklistName}`,\r\n    });\r\n    card.checklists.push(checkListItem);\r\n    this.setState({ card });\r\n  };\r\n\r\n  updateChecklist = (checklist) => {\r\n    const { card } = this.state;\r\n    const checklistsToAdd = card.checklists.map((currChecklist) =>\r\n      currChecklist.id === checklist.id ? checklist : currChecklist\r\n    );\r\n    card.checklists = checklistsToAdd;\r\n    this.props.saveCard(card, this.props.stack, this.props.selectedBoard);\r\n  };\r\n\r\n  onRemoveTodo = (todoId, checklists) => {\r\n    const { card } = this.state;\r\n    const copyChecklists = { ...checklists };\r\n    const { todos } = copyChecklists;\r\n    const filteredTodos = todos.filter((todo) => todo.id !== todoId);\r\n    copyChecklists.todos = filteredTodos;\r\n    const filteredChecklists = card.checklists.map((currChecklist) =>\r\n      currChecklist.id === copyChecklists.id ? copyChecklists : currChecklist\r\n    );\r\n    card.checklists = filteredChecklists;\r\n    this.props.saveCard(card, this.props.stack, this.props.selectedBoard);\r\n  };\r\n\r\n  onClosePopUps = () => {\r\n    // eventBus.emit('close');\r\n  };\r\n\r\n  deleteChecklist = (checklistId) => {\r\n    const { card } = this.state;\r\n    const { stack, selectedBoard } = this.props;\r\n    let { comments } = card;\r\n    const currChecklistIdx = card.checklists.findIndex(\r\n      (cl) => cl.id === checklistId\r\n    );\r\n    const checklistName = card.checklists[currChecklistIdx].title;\r\n    card.checklists.splice(currChecklistIdx, 1);\r\n    comments.unshift({\r\n      id: utilService.makeId(),\r\n      createdAt: Date.now(),\r\n      txt: `${this.state.loggedUser.fullname} deleted checklist - ${checklistName}`,\r\n    });\r\n\r\n    this.setState({ card });\r\n    this.props.saveCard(card, stack, selectedBoard);\r\n  };\r\n\r\n  addComment = (comment) => {\r\n    const { card } = this.state;\r\n    card.comments.unshift({\r\n      id: utilService.makeId(),\r\n      createdBy: this.state.loggedUser,\r\n      createdAt: Date.now(),\r\n      txt: `${this.state.loggedUser.fullname} added comment - ${comment}`,\r\n    });\r\n    this.setState({ card });\r\n  };\r\n\r\n  onRemoveImage = (card) => {\r\n    const { stack, selectedBoard } = this.props;\r\n    console.log('Remove IMG');\r\n    const copyCard = { ...card };\r\n    copyCard.imgUrl = '';\r\n    console.log(copyCard);\r\n    this.props.saveCard(copyCard, stack, selectedBoard);\r\n  };\r\n\r\n  onSetDueDate = (dueDate) => {\r\n    const { stack, selectedBoard } = this.props;\r\n    const { card } = this.state;\r\n    card.dueDate = dueDate;\r\n    this.setState({ card }, () => {\r\n      this.props.saveCard(card, stack, selectedBoard);\r\n    });\r\n  };\r\n\r\n  onRemoveDueDate = () => {\r\n    const { stack, selectedBoard } = this.props;\r\n    const { card } = this.state;\r\n    card.dueDate = '';\r\n    this.setState({ card }, () => {\r\n      this.props.saveCard(card, stack, selectedBoard);\r\n    });\r\n  };\r\n\r\n  onSaveCard = (card) => {\r\n    const { stack, selectedBoard } = this.props;\r\n    this.props.saveCard(card, stack, selectedBoard);\r\n  };\r\n\r\n  render() {\r\n    const { card, onCloseModal, stack } = this.props;\r\n    const { checklists } = this.state.card;\r\n    const labels = this.state.card.labels;\r\n    const cardMembers = this.state.card.members;\r\n    const dueDate = utilService.formatTime(card, 'dateTime');\r\n    return (\r\n      <>\r\n        <div className=\"modal-bg\" onClick={(ev) => onCloseModal(ev)}></div>\r\n        <main>\r\n          <section\r\n            onClick={this.onClosePopUps}\r\n            className=\"card-details-container\"\r\n          >\r\n            <div\r\n              className=\"card-details-cover\"\r\n              style={{ background: `${this.state.card.coverColor}` }}\r\n            >\r\n              <CloseIcon\r\n                className=\"close-cd\"\r\n                onClick={(ev) => onCloseModal(ev)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"card-details-body\">\r\n              <div className=\"card-details-top\">\r\n                <h2 className=\"card-details-title\">{card.title}</h2>\r\n                <p className=\"card-details-list\">\r\n                  in list <span className=\"list-fake-link\">{stack.title}</span>\r\n                </p>\r\n              </div>\r\n              <div className=\"details-list-container flex\">\r\n                <div className=\"column-container flex column\">\r\n                  {/* CARD LABELS */}\r\n                  {labels.length !== 0 && (\r\n                    <CardLabels className=\"labels-txt\" labels={labels} />\r\n                  )}\r\n                  {dueDate && (\r\n                    <div>\r\n                      <p className=\"details-due-date\">\r\n                        <span><ScheduleIcon /></span>\r\n                        {dueDate}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {cardMembers.length !== 0 && (\r\n                    <MembersAvatar users={cardMembers} />\r\n                  )}\r\n                  <CardDescription onSaveCard={this.onSaveCard} card={card} />\r\n                  {card.imgUrl && (\r\n                    <CardImg onRemoveImage={this.onRemoveImage} card={card} />\r\n                  )}\r\n                  {checklists.length !== 0 && (\r\n                    <CardChecklist\r\n                      updateChecklist={this.updateChecklist}\r\n                      onRemoveTodo={this.onRemoveTodo}\r\n                      onRemove={this.deleteChecklist}\r\n                      checklists={checklists}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div className=\"sidebar-wrapper flex column\">\r\n                  <CardSideBar\r\n                    onSetDueDate={this.onSetDueDate}\r\n                    onRemoveDueDate={this.onRemoveDueDate}\r\n                    card={card}\r\n                    stack={stack}\r\n                    onMemberAdd={this.onMemberAdd}\r\n                    boardUsers={this.state.boardUsers}\r\n                    onCheckListSelect={this.addChecklist}\r\n                    onCoverColorSelect={this.setCardColor}\r\n                    onLabelColorSelect={this.setLabelOnCard}\r\n                  />\r\n                </div>\r\n                <div className=\"column-container flex column\">\r\n                  <CardActivity card={card} onCommentAdd={this.addComment} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n    users: state.userModule.users,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  saveCard,\r\n  loadUsers,\r\n};\r\n\r\nexport const CardDetails = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_CardDetails);\r\n","import React, { Component } from 'react';\r\n\r\nexport class EditCard extends Component {\r\n  state = {\r\n    card: {\r\n      title: '',\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { card } = this.props;\r\n    const cardCopy = { ...card };\r\n    this.setState({ card: cardCopy });\r\n  }\r\n\r\n  handleInput = (ev) => {\r\n    const { card } = this.state;\r\n    card.title = ev.target.value;\r\n    this.setState({ card });\r\n  };\r\n\r\n  onSave = (ev) => {\r\n    ev.stopPropagation();\r\n    const { card } = this.state;\r\n    if (!card.title) return;\r\n    const { saveEditedCard } = this.props;\r\n    saveEditedCard(card);\r\n  };\r\n\r\n  render() {\r\n    const { title } = this.state.card;\r\n    return (\r\n      <div className=\"card-preview-edit-card\">\r\n        <form action=\"\" onSubmit={(ev) => this.onSave(ev)}>\r\n          <input\r\n            onBlur={this.onSave}\r\n            type=\"text\"\r\n            onChange={this.handleInput}\r\n            value={title}\r\n          />\r\n          <button type=\"submit\" onClick={this.onSave}>\r\n            Save\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { CardDetails } from './CardDetails';\r\nimport { CardLabels } from './cardDetailsCmps/cardDetailsBodyCmps/CardLabels.jsx';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { removeCard, saveCard } from '../store/actions/cardActions.js';\r\nimport { connect } from 'react-redux';\r\nimport { EditCard } from './EditCard';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { MembersAvatar } from '../cmps/cardDetailsCmps/cardDetailsBodyCmps/MembersAvatar.jsx';\r\nimport SubjectIcon from '@material-ui/icons/Subject';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\r\nimport { utilService } from './../services/misc/utilService';\r\n\r\nexport class _CardPreview extends Component {\r\n  state = {\r\n    isCardDetailsSelected: false,\r\n    isEditCardModalShow: false,\r\n    card: {},\r\n    labels: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { card } = this.props;\r\n    const { labels } = this.props.card;\r\n    this.setState({ card, labels });\r\n  }\r\n\r\n  onShowCardDetails = () => {\r\n    this.props.disableStackDrag();\r\n    if (!this.state.isEditCardModalShow)\r\n      this.setState({ isCardDetailsSelected: true });\r\n  };\r\n\r\n  closeModal = (ev) => {\r\n    this.props.allowStackDrag();\r\n    ev.stopPropagation();\r\n    this.setState({ isCardDetailsSelected: false });\r\n  };\r\n\r\n  onRemoveCard = (cardId) => {\r\n    const { selectedBoard, stack } = this.props;\r\n    this.props.removeCard(cardId, stack, selectedBoard);\r\n  };\r\n\r\n  onEditCard = (ev) => {\r\n    ev.stopPropagation();\r\n    this.setState({ isEditCardModalShow: true });\r\n  };\r\n\r\n  onSaveEditedCard = (card) => {\r\n    const { selectedBoard, stack } = this.props;\r\n    this.props.saveCard(card, stack, selectedBoard);\r\n    this.setState({ isEditCardModalShow: false });\r\n  };\r\n\r\n  render() {\r\n    const { card, stack, index } = this.props;\r\n    const todosSummary = utilService.calcDoneTodos(card);\r\n    const displayedDate = utilService.formatTime(card);\r\n    const { coverColor, labels } = this.props.card;\r\n    const { isCardDetailsSelected, isEditCardModalShow } = this.state;\r\n    if (!card || !stack) return <h1>loading..</h1>;\r\n    return (\r\n      <>\r\n        <Draggable draggableId={card.id} index={index}>\r\n          {(provided) => (\r\n            <div\r\n              onClick={this.onShowCardDetails}\r\n              className=\"card-preview\"\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              ref={provided.innerRef}\r\n            >\r\n              {\r\n                card.imgUrl ? (\r\n                  // {coverColor !== '' && (\r\n                  <img src={card.imgUrl} alt=\"\" />\r\n                ) : (\r\n                  <div\r\n                    className=\"card-preview-color\"\r\n                    style={{ background: `${coverColor}` }}\r\n                  ></div>\r\n                )\r\n                // )}\r\n              }\r\n              {labels.length !== 0 && <CardLabels labels={labels} />}\r\n\r\n              <div className=\"card-preview-line flex space-between\">\r\n                {!isEditCardModalShow ? (\r\n                  <div className=\"card-preview-icons\">\r\n                    <div>{card.title}</div>\r\n\r\n                    <div className=\"card-preview-bottom flex space-between\">\r\n                      <div className=\"card-preview-summary-icons\">\r\n                        {card.desc && (\r\n                          <div className=\"icon-preview\">\r\n                            <SubjectIcon className=\"icons\" />\r\n                          </div>\r\n                        )}\r\n                        {todosSummary.length !== 0 && (\r\n                          <div className=\"icon-preview\">\r\n                            <PlaylistAddCheckIcon className=\"icons\" />\r\n                            {todosSummary.done}/{todosSummary.length}\r\n                          </div>\r\n                        )}\r\n                        {card.dueDate && (\r\n                          <div className=\"icon-preview\">\r\n                            <ScheduleIcon className=\"icons\" /> {displayedDate}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"icons-container flex\">\r\n                        <div onClick={this.onEditCard}>\r\n                          <span>\r\n                            <EditIcon className=\"card-preview-edit-icon\"></EditIcon>\r\n                          </span>\r\n                        </div>\r\n                        <div onClick={() => this.onRemoveCard(card.id)}>\r\n                          <span>\r\n                            <DeleteIcon className=\"card-preview-edit-icon\"></DeleteIcon>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <EditCard\r\n                    saveEditedCard={this.onSaveEditedCard}\r\n                    card={card}\r\n                  ></EditCard>\r\n                )}\r\n              </div>\r\n              {card.members.length !== 0 && (\r\n                <MembersAvatar users={card.members} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </Draggable>\r\n        {isCardDetailsSelected && (\r\n          <CardDetails\r\n            stack={stack}\r\n            card={card}\r\n            onCloseModal={this.closeModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n    boards: state.boardModule.boards,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  removeCard,\r\n  saveCard,\r\n};\r\n\r\nexport const CardPreview = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_CardPreview);\r\n","import React, { Component } from 'react';\r\nimport { CardPreview } from './CardPreview';\r\n\r\nimport { Droppable } from 'react-beautiful-dnd';\r\n\r\nexport class CardList extends Component {\r\n  render() {\r\n    const { cards, allowStackDrag, disableStackDrag, stack } = this.props;\r\n    return (\r\n      <Droppable droppableId={stack.id} type=\"card\">\r\n        {(provided) => (\r\n          <div\r\n            className=\"stack-drop\"\r\n            ref={provided.innerRef}\r\n            {...provided.droppableProps}\r\n          >\r\n            {cards.map((card, index) => {\r\n              return (\r\n                <CardPreview\r\n                  allowStackDrag={allowStackDrag}\r\n                  disableStackDrag={disableStackDrag}\r\n                  index={index}\r\n                  stack={stack}\r\n                  key={card.id}\r\n                  card={card}\r\n                />\r\n              );\r\n            })}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport class EditStack extends Component {\r\n  state = {\r\n    stack: {\r\n      title: '',\r\n    },\r\n  };\r\n  componentDidMount() {\r\n    const { stack } = this.props;\r\n    const copyStack = { ...stack };\r\n    this.setState({ stack: copyStack });\r\n  }\r\n\r\n  handleInput = (ev) => {\r\n    const { stack } = this.state;\r\n    stack.title = ev.target.value;\r\n    this.setState({ stack });\r\n  };\r\n\r\n  onSaveStack = () => {\r\n    const { stack } = this.state;\r\n    if (!stack.title) return;\r\n    this.props.saveStack(stack);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"edit-stack\">\r\n        <form action=\"\" onSubmit={this.onSaveStack}>\r\n          <input\r\n            onBlur={this.onSaveStack}\r\n            type=\"text\"\r\n            autoFocus\r\n            onChange={this.handleInput}\r\n            value={this.state.stack.title}\r\n            name=\"\"\r\n            id=\"\"\r\n          />\r\n          {/* <button onClick={this.onSaveStack}>Save</button> */}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nexport class AddCard extends Component {\r\n  state = {\r\n    card: {\r\n      title: '',\r\n    },\r\n  };\r\n\r\n  handleInput = (ev) => {\r\n    const { card } = this.state;\r\n    card.title = ev.target.value;\r\n    this.setState({ card });\r\n  };\r\n\r\n  onAdd = () => {\r\n    if (!this.state.card.title) return;\r\n    const { card } = this.state;\r\n    this.props.addNewCard(card);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"add-card-modal flex column\">\r\n        <form onSubmit={this.onAdd}>\r\n          <div className=\"add-card-input\">\r\n            <input\r\n              autoFocus\r\n              onBlur={this.onAdd}\r\n              type=\"text\"\r\n              onChange={this.handleInput}\r\n              value={this.state.card.title}\r\n            />\r\n          </div>\r\n          <div className=\"add-btn-container flex align-center\">\r\n            <button className=\"save-btn\" onClick={this.onAdd}>\r\n              Add Card\r\n            </button>\r\n            <button className=\"clear-btn\" onClick={this.props.closeAddSection}>\r\n              <ClearIcon></ClearIcon>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport function StackMenu({ onCloseMenuModal, onRemoveStack }) {\r\n  return (\r\n    <>\r\n      <div className=\"bg-modal-stack\" onClick={onCloseMenuModal}></div>\r\n      <div className=\"stack-menu-modal\">\r\n        <div className=\"stack-menu-header\">\r\n          <span className=\"title-stack\">List Actions</span>        \r\n            <span className=\"close-menu-btn\" onClick={onCloseMenuModal}>\r\n              <CloseIcon />\r\n            </span>        \r\n        </div>\r\n        <ul>\r\n          <li>Add Card...</li>\r\n          <li>Copy List...</li>\r\n          <li>Move List...</li>\r\n          <li className=\"pointer\" onClick={onRemoveStack}>\r\n            Archive This List\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { CardList } from './CardList';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\nimport { removeStack, saveStack } from '../store/actions/stackActions.js';\r\nimport { addCard } from '../store/actions/cardActions';\r\nimport { updateBoard, setSelectedBoard } from '../store/actions/boardActions';\r\nimport { EditStack } from './EditStack.jsx';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { AddCard } from './AddCard';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport { StackMenu } from './StackMenu';\r\n\r\nexport class _StackPreview extends Component {\r\n  state = {\r\n    isEditShow: false,\r\n    isAddShow: false,\r\n    dragEnable: true,\r\n    isOpenStackMenu: false,\r\n  };\r\n\r\n  disableStackDrag = () => {\r\n    this.setState({ dragEnable: false });\r\n  };\r\n  allowStackDrag = () => {\r\n    this.setState({ dragEnable: true });\r\n  };\r\n\r\n  onRemoveStack = () => {\r\n    const { stack, selectedBoard, removeStack } = this.props;\r\n    removeStack(stack.id, selectedBoard._id, selectedBoard);\r\n    this.onCloseMenuModal();\r\n  };\r\n\r\n  onEdit = () => {\r\n    this.setState({ isEditShow: true });\r\n  };\r\n\r\n  onSaveStack = (stack) => {\r\n    const { selectedBoard } = this.props;\r\n    console.log('selectedBoard is:', this.props.selectedBoard);\r\n    this.props.saveStack(stack, selectedBoard);\r\n    this.setState({ isEditShow: false });\r\n  };\r\n\r\n  onAddCard = () => {\r\n    this.setState({ isAddShow: true });\r\n  };\r\n\r\n  onCloseAddSection = () => {\r\n    this.setState({ isAddShow: false });\r\n  };\r\n\r\n  onAddNewCard = (cardToadd) => {\r\n    const { stack, selectedBoard } = this.props;\r\n    this.onCloseAddSection();\r\n    // const board = boardService.addCard(cardToadd, stack, selectedBoard);\r\n    // console.log(board);\r\n    this.props.addCard(cardToadd, stack, selectedBoard);\r\n  };\r\n\r\n  onDragDis = () => {\r\n    return true;\r\n  };\r\n\r\n  onToogleStackMenu = () => {\r\n    let { isOpenStackMenu } = this.state;\r\n    isOpenStackMenu = !isOpenStackMenu;\r\n    this.setState({ isOpenStackMenu });\r\n  };\r\n\r\n  onCloseMenuModal = () => {\r\n    this.setState({ isOpenStackMenu: false });\r\n  };\r\n\r\n  render() {\r\n    const { stack } = this.props;\r\n    const { dragEnable, isOpenStackMenu } = this.state;\r\n    return (\r\n      <>\r\n        <Draggable\r\n          isDragDisabled={dragEnable === false}\r\n          draggableId={stack.id}\r\n          index={this.props.index}\r\n        >\r\n          {(provided) => (\r\n            <div\r\n              {...provided.draggableProps}\r\n              ref={provided.innerRef}\r\n              {...provided.dragHandleProps}\r\n              className=\"stack-preview-card card-list\"\r\n            >\r\n              <div className=\"stack-title flex\">\r\n                {this.state.isEditShow ? (\r\n                  <EditStack\r\n                    className=\"stack-preview-edit flex\"\r\n                    saveStack={this.onSaveStack}\r\n                    stack={stack}\r\n                  />\r\n                ) : (\r\n                  <div className=\"flex space-between align-center width100\">\r\n                    <h4 onClick={this.onEdit} className=\"stack-title-words\">\r\n                      {stack.title}\r\n                    </h4>\r\n                    {/* <div onClick={this.onRemoveStack} className=\"flex\">\r\n                      <DeleteIcon className=\"stack-preview-delete-icon\"></DeleteIcon>\r\n                    </div> */}\r\n                    {isOpenStackMenu && (\r\n                      <StackMenu\r\n                        onRemoveStack={this.onRemoveStack}\r\n                        onCloseMenuModal={this.onCloseMenuModal}\r\n                      />\r\n                    )}\r\n                    <MoreHorizIcon\r\n                      onClick={this.onToogleStackMenu}\r\n                      className=\"stack-3dots-menu\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <CardList\r\n                allowStackDrag={this.allowStackDrag}\r\n                disableStackDrag={this.disableStackDrag}\r\n                stack={stack}\r\n                cards={stack.cards}\r\n              />\r\n              {this.state.isAddShow ? (\r\n                <AddCard\r\n                  addNewCard={this.onAddNewCard}\r\n                  closeAddSection={this.onCloseAddSection}\r\n                />\r\n              ) : (\r\n                <div\r\n                  onClick={this.onAddCard}\r\n                  className=\"add-new-card flex align-center\"\r\n                >\r\n                  <div className=\"add-icon flex justify-center align-center\">\r\n                    <AddIcon></AddIcon>\r\n                  </div>\r\n                  <span className=\"add-text flex justify-center align-center\">\r\n                    Add Another Card\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </Draggable>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n    boards: state.boardModule.boards,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  removeStack,\r\n  setSelectedBoard,\r\n  saveStack,\r\n  addCard,\r\n  updateBoard,\r\n};\r\n\r\nexport const StackPreview = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_StackPreview);\r\n","import { boardService } from './../../services/boardService';\r\nimport { socketService } from '../../services/misc/socketService.js'\r\n\r\n\r\nexport function addStack(stack, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.saveNewStack(stack, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\nexport function removeStack(stackId, boardId, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.removeStack(stackId, boardId, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\nexport function saveStack(stack, selectedBoard) {\r\n    return (dispatch) => {\r\n        return boardService.saveStack(stack, selectedBoard)\r\n            .then((board) => {\r\n                socketService.emit('update board', board)\r\n                const action = {\r\n                    type: 'UPDATE_BOARD',\r\n                    board,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function moveStack(result, stacks, selectedBoard) {\r\n    return async dispatch => {\r\n        try {\r\n            const board = await boardService.moveStack(result, stacks, selectedBoard)\r\n            socketService.emit('update board', board)\r\n            dispatch({ type: 'UPDATE_BOARD', board })\r\n        }\r\n        catch (err) {\r\n            console.log('stackActions: err in updateBoard', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { StackPreview } from './StackPreview.jsx';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { connect } from 'react-redux';\r\nimport { moveStack } from '../store/actions/stackActions';\r\nimport {\r\n  updateDragCard,\r\n  updateDragCardToOtherList,\r\n} from '../store/actions/cardActions.js';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nexport class _StackList extends Component {\r\n  dragEnd = (result) => {\r\n    const { selectedBoard, moveStack } = this.props;\r\n    const { stacks } = this.props.selectedBoard;\r\n    const { destination, source, type } = result;\r\n    if (!destination) return;\r\n    if (\r\n      destination.droppableId === source.droppableId &&\r\n      destination.index === source.index\r\n    )\r\n      return;\r\n\r\n    if (type === 'card') {\r\n      if (result.destination.droppableId === result.source.droppableId) {\r\n        this.props.updateDragCard(result, stacks, selectedBoard);\r\n      }\r\n      if (result.destination.droppableId !== result.source.droppableId) {\r\n        this.props.updateDragCardToOtherList(result, stacks, selectedBoard);\r\n      }\r\n    } else {\r\n      moveStack(result, stacks, selectedBoard);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { stacks } = this.props.board;\r\n    if (!stacks) return <CircularProgress />;\r\n    return (\r\n      <div>\r\n        <DragDropContext onDragEnd={this.dragEnd}>\r\n          <Droppable\r\n            droppableId=\"all stacks\"\r\n            direction=\"horizontal\"\r\n            type=\"column\"\r\n          >\r\n            {(provided) => (\r\n              <div\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n                className=\"stack-list-container flex \"\r\n              >\r\n                {this.props.board.stacks.map((stack, index) => {\r\n                  return (\r\n                    <StackPreview\r\n                      index={index}\r\n                      boardId={this.props.boardId}\r\n                      key={stack.id}\r\n                      stack={stack}\r\n                    />\r\n                  );\r\n                })}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updateDragCard,\r\n  updateDragCardToOtherList,\r\n  moveStack,\r\n};\r\n\r\nexport const StackList = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_StackList);\r\n","import React, { Component } from 'react';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nexport class AddStack extends Component {\r\n  state = {\r\n    stack: {\r\n      cards: [],\r\n      style: {},\r\n      title: '',\r\n    },\r\n  };\r\n\r\n  handleInput = (ev) => {\r\n    const { stack } = this.state;\r\n    stack.title = ev.target.value;\r\n    this.setState({ stack });\r\n  };\r\n\r\n  onAdd = (ev, stack) => {\r\n    ev.stopPropagation();\r\n    if (!stack.title) return;\r\n    const { addNewStack } = this.props;\r\n    addNewStack(stack);\r\n  };\r\n\r\n  render() {\r\n    const { closeAddSection } = this.props;\r\n    const { stack } = this.state;\r\n    return (\r\n      <section className=\"add-stack-modal flex column\">\r\n        <form onClick={(ev) => this.onAdd(ev, stack)}>\r\n          <div className=\"add-stack-input\">\r\n            {/* <form onSubmit={(ev) => this.onAdd(ev, stack)}> */}\r\n            <input\r\n              autoFocus\r\n              onChange={this.handleInput}\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"\"\r\n              placeholder=\"Title ?\"\r\n              onBlur={this.props.onCloseAddSection}\r\n            />\r\n            {/* </form> */}\r\n          </div>\r\n          <div className=\"add-stack-container flex align-center\">\r\n            <button className=\"save-btn\" onClick={(ev) => this.onAdd(ev, stack)}>\r\n              Add List\r\n          </button>\r\n            <button className=\"clear-btn\" onClick={closeAddSection}>\r\n              <ClearIcon></ClearIcon>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { MembersAvatar } from '../cmps/cardDetailsCmps/cardDetailsBodyCmps/MembersAvatar';\r\n\r\n// import { setSelectedBoard } from '../store/actions/boardActions';\r\n\r\nexport class _StatusBar extends React.Component {\r\n  state = {\r\n    selectedBoard: {},\r\n  };\r\n  componentDidMount() {\r\n    const { selectedBoard } = this.props;\r\n    this.setState({ selectedBoard });\r\n  }\r\n\r\n  render() {\r\n    const { selectedBoard } = this.props;\r\n    let members = '';\r\n    if (!selectedBoard) return <h5>Loading...</h5>;\r\n    if (selectedBoard.members) {\r\n      members = selectedBoard.members;\r\n    }\r\n    return (\r\n      <section>\r\n        <div className=\"status-bar-container flex space-between align-center\">\r\n          <div className=\"flex align-center\">\r\n            <h2 style={{ color: 'white' }} className=\"status-board-title\">\r\n              {selectedBoard.title}\r\n            </h2>\r\n            {members.length !== 0 && (\r\n              <MembersAvatar users={selectedBoard.members} />\r\n            )}\r\n          </div>\r\n          <button className=\"btn1 diff-bgc\" onClick={this.onMenuSelect}>\r\n            <span className=\"btn1-span\">Show Menu</span>\r\n          </button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport const StatusBar = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_StatusBar);\r\n","import React, { Component } from 'react';\r\nimport { StackList } from './../cmps/StackList';\r\nimport { setSelectedBoard, updateBoard } from '../store/actions/boardActions';\r\nimport { addStack } from '../store/actions/stackActions';\r\nimport { connect } from 'react-redux';\r\nimport { AddStack } from '../cmps/AddStack';\r\nimport { StatusBar } from '../cmps/StatusBar';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { socketService } from '../services/misc/socketService';\r\n\r\nexport class _Board extends Component {\r\n  state = {\r\n    isAddStack: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadBoard();\r\n    socketService.setup(); //on the road\r\n    socketService.emit('join board', this.props.match.params.id);\r\n    socketService.on('update board', this.handleUpdateBoard);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socketService.terminate();\r\n  }\r\n\r\n  handleUpdateBoard = (board) => {\r\n    this.props.updateBoard(board);\r\n  };\r\n\r\n  loadBoard() {\r\n    const boardId = this.props.match.params.id;\r\n    this.props.setSelectedBoard(boardId);\r\n  }\r\n\r\n  onAddSection = () => {\r\n    this.setState({ isAddStack: true });\r\n  };\r\n\r\n  onCloseAddSection = () => {\r\n    this.setState({ isAddStack: false });\r\n  };\r\n\r\n  onAddNewStack = (stack) => {\r\n    const { selectedBoard } = this.props;\r\n    this.props\r\n      .addStack(stack, selectedBoard)\r\n      .then(() => this.setState({ isAddStack: false }));\r\n  };\r\n\r\n  render() {\r\n    const { selectedBoard } = this.props;\r\n    let style = { backgroundColor: 'white' };\r\n    if (!selectedBoard) return <CircularProgress />;\r\n    if (selectedBoard.style) {\r\n      const bgc = selectedBoard.style.bgc;\r\n      style = bgc.startsWith('#')\r\n        ? { backgroundColor: bgc }\r\n        : { backgroundImage: `url(${bgc})` };\r\n    }\r\n    return (\r\n      <section className=\"board-container\" style={style}>\r\n        <StatusBar />\r\n\r\n        <div className=\"board-inner mt flex column\">\r\n          <div className=\"stack-container flex \">\r\n            {selectedBoard && <StackList board={selectedBoard} />}\r\n            <div className=\"add-new-stack\">\r\n              <button\r\n                className=\"board-open-modal-btn\"\r\n                onClick={this.onAddSection}\r\n              >\r\n                <span className=\"board-icon\">\r\n                  <AddIcon></AddIcon>\r\n                </span>\r\n                <span className=\"btn1-span\">Add another list</span>\r\n              </button>\r\n              {this.state.isAddStack && (\r\n                <AddStack\r\n                  addNewStack={this.onAddNewStack}\r\n                  closeAddSection={this.onCloseAddSection}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedBoard: state.boardModule.selectedBoard,\r\n    boards: state.boardModule.boards,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setSelectedBoard,\r\n  addStack,\r\n  updateBoard,\r\n};\r\n\r\nexport const Board = connect(mapStateToProps, mapDispatchToProps)(_Board);\r\n","import React, { Component } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { connect } from 'react-redux';\r\nimport { signup } from '../store/actions/userActions.js';\r\n\r\nexport class _SignUp extends Component {\r\n  state = {\r\n    user: {\r\n      firstname: '',\r\n      lastname: '',\r\n      username: '',\r\n      password: '',\r\n      isGuest: false,\r\n      cards: [],\r\n      imgUrl: '',\r\n    },\r\n    msg: '',\r\n  };\r\n  handleInput = (ev) => {\r\n    ev.preventDefault();\r\n    const { user } = this.state;\r\n    const name = ev.target.name;\r\n    const value = ev.target.value;\r\n    user[name] = value;\r\n    this.setState({ user });\r\n  };\r\n\r\n  onSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    const { user } = this.state;\r\n    const fullname = user.firstname + ' ' + user.lastname;\r\n    delete user.firstname;\r\n    delete user.lastname;\r\n    user.fullname = fullname;\r\n    const { username, password } = user;\r\n    if (!username || !password || !fullname) {\r\n      return this.setState({ msg: 'All inputs are required' }, () =>\r\n        console.log(this.state.msg)\r\n      );\r\n    }\r\n    this.props.signup(user).then(() => this.props.history.push('/cardly'));\r\n  };\r\n  render() {\r\n    const classes = makeStyles((theme) => ({\r\n      paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n      },\r\n      avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n      },\r\n      form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n      },\r\n      submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n      },\r\n    }));\r\n    return (\r\n      <div className=\"main-signup\">\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className=\"flex column center\">\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign up\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={this.onSubmit} noValidate>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    autoComplete=\"fname\"\r\n                    name=\"firstname\"\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"firstname\"\r\n                    label=\"First Name\"\r\n                    autoFocus\r\n                    onChange={this.handleInput}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"lastname\"\r\n                    label=\"Last Name\"\r\n                    name=\"lastname\"\r\n                    autoComplete=\"lname\"\r\n                    onChange={this.handleInput}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"username\"\r\n                    name=\"username\"\r\n                    autoComplete=\"username\"\r\n                    onChange={this.handleInput}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onChange={this.handleInput}\r\n                  />\r\n                  {this.state.msg && <label>{this.state.msg}</label>}\r\n                </Grid>\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign Up\r\n              </Button>\r\n              <Grid container justify=\"flex-end\">\r\n                <Grid item>\r\n                  <Link href=\"#/login\" variant=\"body2\">\r\n                    Already have an account? Log in\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n          <Box mt={5}></Box>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  signup,\r\n};\r\n\r\nexport const SignUp = connect(mapStateToProps, mapDispatchToProps)(_SignUp);\r\n","import { Home } from './pages/Home';\r\nimport { Login } from './pages/Login';\r\nimport { CardlyApp } from './pages/CardlyApp';\r\nimport { CardDetails } from './cmps/CardDetails'\r\nimport { Board } from './pages/Board';\r\nimport { About } from './pages/About';\r\nimport { SignUp } from './pages/SignUp';\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/Cardly/:id',\r\n        component: Board\r\n    },\r\n    {\r\n        path: '/Cardly/card/:id?',\r\n        component: CardDetails\r\n    },\r\n\r\n    {\r\n        path: '/Cardly',\r\n        component: CardlyApp\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/signup',\r\n        component: SignUp\r\n    },\r\n    {\r\n        path: '/about',\r\n        component: About\r\n    },\r\n    {\r\n        path: '/',\r\n        component: Home\r\n    },\r\n]","import React from 'react';\r\n\r\nexport function About() {\r\n  return (\r\n    <div>\r\n      <h1>About</h1>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function Home() {\r\n  return (\r\n    <section className=\"hero\">\r\n      <div className=\"home-container\">\r\n        <div className=\"home-content\">\r\n          <div className=\"home-words\">\r\n            <h1>Cardly</h1>\r\n            <p className=\"p1\">Get your work organized just how you like it.</p>\r\n            {/* <p className=\"p2\">\r\n              Cardly's boards, lists, and cards enable teams to organize and\r\n              prioritize projects in a fun, flexible, and rewarding way.\r\n            </p> */}\r\n           \r\n          </div>\r\n          <div className=\"home-img\">\r\n            <img\r\n              src=\"https://res.cloudinary.com/drak3llqt/image/upload/v1611398666/undraw_teamwork_hpdk_qoijno.svg\"\r\n              className=\"cardly-img\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"btn\">\r\n              <Link to=\"/Cardly\">\r\n                <button className=\"home-btn\">Get Started</button>\r\n              </Link>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      {/* <footer className=\"home-footer flex space-between\">\r\n        <Link to=\"/\">\r\n          <button className=\"btn1\">\r\n            <span className=\"btn1-span\">about us</span>\r\n          </button>\r\n        </Link>\r\n        <p className=\"footer-p\">coffeerights 2021</p>\r\n      </footer> */}\r\n    </section>\r\n  );\r\n}\r\n\r\n// export function Home() {\r\n//   return (\r\n//     <section className=\"home-page flex column justify-center align-center\">\r\n//       <div className=\"home-container\">\r\n//         <div className=\"home-title\">Cardly</div>\r\n//         <p className=\"home-slogan\">\r\n//           Get your work organized just how you like it\r\n//       </p>\r\n//         <p className=\"subtitle\">Cardly's boards, lists, and cards enable teams to organize and prioritize projects in a fun, flexible, and rewarding way.</p>\r\n//         <Link to=\"/Cardly\">\r\n//           <button className=\"home-btn\">Get Started</button>\r\n//         </Link>\r\n//       </div>\r\n//       <footer className=\"home-footer flex space-between\">\r\n//         <Link to=\"/\">\r\n//           <button className=\"btn1\">\r\n//             <span className=\"btn1-span\">about us</span>\r\n//           </button>\r\n//         </Link>\r\n//         <p className=\"footer-p\">coffeerights 2021</p>\r\n//       </footer>\r\n//     </section>\r\n//   );\r\n// }\r\n","import React, { Component } from 'react';\r\n// import './App.css';\r\nimport './assets/styles/main.scss';\r\nimport { Header } from './cmps/Header';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { routes } from './routes.js';\r\nimport { connect } from 'react-redux';\r\nimport { loadBoards } from './store/actions/boardActions.js';\r\n\r\nexport class _App extends Component {\r\n  componentDidMount() {\r\n    this.loadBoards();\r\n  }\r\n\r\n  loadBoards = () => {\r\n    this.props.loadBoards();\r\n  };\r\n\r\n  render() {\r\n    // if (!this.props.boards) return <h1>Loading...</h1>;\r\n    return (\r\n      <div className=\"App\">\r\n        <Header />\r\n        <Switch>\r\n          {routes.map((route) => (\r\n            <Route\r\n              exact\r\n              key={route.path}\r\n              component={route.component}\r\n              path={route.path}\r\n            />\r\n          ))}\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    boards: state.boardModule.boards,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadBoards,\r\n};\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\r\n    boards: [],\r\n    selectedBoard: {}\r\n}\r\n\r\nexport function boardReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_BOARDS':\r\n            return { ...state, boards: action.boards }\r\n        case 'ADD_BOARD':\r\n            return { ...state, boards: [...state.boards, action.boardAdded], selectedBoard: action.boardAdded }\r\n        case 'SET_BOARD':\r\n            return { ...state, selectedBoard: action.board }\r\n        case 'DELETE_BOARD':\r\n            return {\r\n                ...state,\r\n                boards: state.boards.filter(board => board._id !== action.boardId)\r\n            }\r\n        case 'UPDATE_BOARD':\r\n            return {\r\n                ...state,\r\n                boards: state.boards.map(board => (board._id === action.board._id) ? action.board : board),\r\n                selectedBoard: action.board\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n    loggedInUser: localLoggedinUser,\r\n    users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedInUser: action.user }\r\n        case 'REMOVE_USER':\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n        case 'SET_USERS':\r\n            return { ...state, users: action.users }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import thunk from 'redux-thunk';\r\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux'\r\n\r\nimport { boardReducer } from './reducers/boardReducer.js';\r\nimport { userReducer } from './reducers/userReducer.js';\r\n\r\nconst rootReducer = combineReducers({\r\n    boardModule: boardReducer,\r\n    userModule: userReducer,\r\n\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport { App } from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}